{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shell/Window.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, type ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ninterface WindowProps {\n  title: string;\n  icon?: ReactNode;\n  children: ReactNode;\n  className?: string;\n  /** Remove inner padding — useful for full-bleed content like terminals */\n  noPadding?: boolean;\n}\n\nexport function Window({ title, icon, children, className, noPadding }: WindowProps) {\n  const router = useRouter();\n  const [minimized, setMinimized] = useState(false);\n\n  return (\n    <div\n      className={`flex flex-col bg-ctp-mantle border border-ctp-surface0 rounded-window shadow-lg shadow-black/20 overflow-hidden ${className ?? \"\"}`}\n    >\n      {/* Title bar */}\n      <div className=\"window-titlebar shrink-0\">\n        {/* Traffic lights */}\n        <div className=\"flex items-center gap-1.5 mr-2\">\n          <button\n            onClick={() => router.push(\"/\")}\n            className=\"w-3 h-3 rounded-full bg-ctp-red hover:brightness-110 transition-all\"\n            title=\"Close — go to desktop\"\n          />\n          <button\n            onClick={() => setMinimized(!minimized)}\n            className=\"w-3 h-3 rounded-full bg-ctp-yellow hover:brightness-110 transition-all\"\n            title={minimized ? \"Restore\" : \"Minimize\"}\n          />\n          <button\n            onClick={() => setMinimized(false)}\n            className=\"w-3 h-3 rounded-full bg-ctp-green hover:brightness-110 transition-all\"\n            title=\"Maximize\"\n          />\n        </div>\n\n        {/* App icon + title */}\n        {icon && <span className=\"text-ctp-subtext0\">{icon}</span>}\n        <span className=\"text-xs font-mono font-medium text-ctp-subtext1 truncate\">\n          {title}\n        </span>\n      </div>\n\n      {/* Content */}\n      {!minimized && (\n        <div className={`flex-1 overflow-auto ${noPadding ? \"\" : \"p-4\"}`}>\n          {children}\n        </div>\n      )}\n      {minimized && (\n        <div className=\"px-4 py-6 text-center\">\n          <button\n            onClick={() => setMinimized(false)}\n            className=\"text-xs font-mono text-ctp-overlay0 hover:text-ctp-text transition-colors\"\n          >\n            Click to restore window\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAcO,SAAS,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAe;;IACjF,MAAM,SAAS,IAAA,iRAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wSAAQ,EAAC;IAE3C,qBACE,4TAAC;QACC,WAAW,CAAC,gHAAgH,EAAE,aAAa,IAAI;;0BAG/I,4TAAC;gBAAI,WAAU;;kCAEb,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCACC,SAAS,IAAM,OAAO,IAAI,CAAC;gCAC3B,WAAU;gCACV,OAAM;;;;;;0CAER,4TAAC;gCACC,SAAS,IAAM,aAAa,CAAC;gCAC7B,WAAU;gCACV,OAAO,YAAY,YAAY;;;;;;0CAEjC,4TAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAU;gCACV,OAAM;;;;;;;;;;;;oBAKT,sBAAQ,4TAAC;wBAAK,WAAU;kCAAqB;;;;;;kCAC9C,4TAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;YAKJ,CAAC,2BACA,4TAAC;gBAAI,WAAW,CAAC,qBAAqB,EAAE,YAAY,KAAK,OAAO;0BAC7D;;;;;;YAGJ,2BACC,4TAAC;gBAAI,WAAU;0BACb,cAAA,4TAAC;oBACC,SAAS,IAAM,aAAa;oBAC5B,WAAU;8BACX;;;;;;;;;;;;;;;;;AAOX;GAtDgB;;QACC,iRAAS;;;KADV"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/Panel.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ReactNode } from \"react\";\n\ninterface PanelProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function Panel({ children, className = \"\" }: PanelProps) {\n  return (\n    <div\n      className={`os-panel p-4 ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AASO,SAAS,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAc;IAC5D,qBACE,4TAAC;QACC,WAAW,CAAC,aAAa,EAAE,WAAW;kBAErC;;;;;;AAGP;KARgB"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/Input.tsx"],"sourcesContent":["\"use client\";\n\nimport type { InputHTMLAttributes } from \"react\";\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n}\n\nexport function Input({ label, className = \"\", id, ...props }: InputProps) {\n  const inputId = id || label?.toLowerCase().replace(/\\s+/g, \"-\");\n  return (\n    <div className=\"flex flex-col gap-1.5\">\n      {label && (\n        <label htmlFor={inputId} className=\"text-xs text-ctp-subtext0 font-medium\">\n          {label}\n        </label>\n      )}\n      <input\n        id={inputId}\n        className={`bg-ctp-surface0 border border-ctp-surface1 rounded-input px-3 py-2 text-sm text-ctp-text placeholder:text-ctp-overlay0 focus:outline-none focus:border-ctp-blue/50 focus:ring-1 focus:ring-ctp-blue/20 transition-colors ${className}`}\n        {...props}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQO,SAAS,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,EAAE,EAAE,GAAG,OAAmB;IACvE,MAAM,UAAU,MAAM,OAAO,cAAc,QAAQ,QAAQ;IAC3D,qBACE,4TAAC;QAAI,WAAU;;YACZ,uBACC,4TAAC;gBAAM,SAAS;gBAAS,WAAU;0BAChC;;;;;;0BAGL,4TAAC;gBACC,IAAI;gBACJ,WAAW,CAAC,yNAAyN,EAAE,WAAW;gBACjP,GAAG,KAAK;;;;;;;;;;;;AAIjB;KAhBgB"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/Button.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ButtonHTMLAttributes, ReactNode } from \"react\";\n\ntype ButtonVariant = \"primary\" | \"ghost\" | \"danger\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant;\n  children: ReactNode;\n}\n\nconst variantStyles: Record<ButtonVariant, string> = {\n  primary:\n    \"bg-ctp-blue text-ctp-crust font-medium hover:bg-ctp-lavender active:bg-ctp-sapphire\",\n  ghost:\n    \"bg-ctp-surface0 text-ctp-subtext1 hover:bg-ctp-surface1 hover:text-ctp-text active:bg-ctp-surface2\",\n  danger:\n    \"bg-ctp-red/15 text-ctp-red hover:bg-ctp-red/25 active:bg-ctp-red/35\",\n};\n\nexport function Button({\n  variant = \"primary\",\n  children,\n  className = \"\",\n  disabled,\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      className={`px-4 py-2 rounded-input text-sm transition-colors duration-150 cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed ${variantStyles[variant]} ${className}`}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAWA,MAAM,gBAA+C;IACnD,SACE;IACF,OACE;IACF,QACE;AACJ;AAEO,SAAS,OAAO,EACrB,UAAU,SAAS,EACnB,QAAQ,EACR,YAAY,EAAE,EACd,QAAQ,EACR,GAAG,OACS;IACZ,qBACE,4TAAC;QACC,WAAW,CAAC,8HAA8H,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;QACjL,UAAU;QACT,GAAG,KAAK;kBAER;;;;;;AAGP;KAhBgB"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/memory/MemorySearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback, type FormEvent } from \"react\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\n\ninterface MemorySearchProps {\n  onSearch: (query: string, types?: string[]) => void;\n  loading?: boolean;\n  activeType?: string | null;\n}\n\nconst MEMORY_TYPES = [\"semantic\", \"episodic\", \"procedural\"] as const;\n\nconst typeColors: Record<string, string> = {\n  semantic: \"border-ctp-blue bg-ctp-blue/15 text-ctp-blue\",\n  episodic: \"border-ctp-mauve bg-ctp-mauve/15 text-ctp-mauve\",\n  procedural: \"border-ctp-green bg-ctp-green/15 text-ctp-green\",\n};\n\nexport function MemorySearch({ onSearch, loading, activeType }: MemorySearchProps) {\n  const [query, setQuery] = useState(\"\");\n  const [activeTypes, setActiveTypes] = useState<Set<string>>(new Set());\n\n  const toggleType = useCallback((type: string) => {\n    setActiveTypes((prev) => {\n      const next = new Set(prev);\n      if (next.has(type)) {\n        next.delete(type);\n      } else {\n        next.add(type);\n      }\n      return next;\n    });\n  }, []);\n\n  const handleSubmit = useCallback(\n    (e: FormEvent) => {\n      e.preventDefault();\n      if (!query.trim()) return;\n      const types = activeTypes.size > 0 ? [...activeTypes] : undefined;\n      onSearch(query.trim(), types);\n    },\n    [query, activeTypes, onSearch]\n  );\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-3\">\n      <div className=\"flex gap-3\">\n        <div className=\"flex-1\">\n          <Input\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"Search memory...\"\n          />\n        </div>\n        <Button type=\"submit\" disabled={loading || !query.trim()}>\n          {loading ? \"Searching...\" : \"Search\"}\n        </Button>\n      </div>\n      <div className=\"flex gap-2 items-center\">\n        {MEMORY_TYPES.map((type) => (\n          <button\n            key={type}\n            type=\"button\"\n            onClick={() => toggleType(type)}\n            className={`px-3 py-1 text-xs font-mono rounded-pill border transition-colors ${\n              activeTypes.has(type) || activeType === type\n                ? typeColors[type]\n                : \"border-ctp-surface1 text-ctp-overlay0 hover:text-ctp-subtext1\"\n            }`}\n          >\n            {type}\n          </button>\n        ))}\n        {activeType && (\n          <span className=\"text-2xs text-ctp-overlay0 font-mono ml-1\">\n            (filtered via sidebar)\n          </span>\n        )}\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAYA,MAAM,eAAe;IAAC;IAAY;IAAY;CAAa;AAE3D,MAAM,aAAqC;IACzC,UAAU;IACV,UAAU;IACV,YAAY;AACd;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAqB;;IAC/E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wSAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wSAAQ,EAAc,IAAI;IAEhE,MAAM,aAAa,IAAA,2SAAW;gDAAC,CAAC;YAC9B;wDAAe,CAAC;oBACd,MAAM,OAAO,IAAI,IAAI;oBACrB,IAAI,KAAK,GAAG,CAAC,OAAO;wBAClB,KAAK,MAAM,CAAC;oBACd,OAAO;wBACL,KAAK,GAAG,CAAC;oBACX;oBACA,OAAO;gBACT;;QACF;+CAAG,EAAE;IAEL,MAAM,eAAe,IAAA,2SAAW;kDAC9B,CAAC;YACC,EAAE,cAAc;YAChB,IAAI,CAAC,MAAM,IAAI,IAAI;YACnB,MAAM,QAAQ,YAAY,IAAI,GAAG,IAAI;mBAAI;aAAY,GAAG;YACxD,SAAS,MAAM,IAAI,IAAI;QACzB;iDACA;QAAC;QAAO;QAAa;KAAS;IAGhC,qBACE,4TAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC,sKAAK;4BACJ,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,aAAY;;;;;;;;;;;kCAGhB,4TAAC,wKAAM;wBAAC,MAAK;wBAAS,UAAU,WAAW,CAAC,MAAM,IAAI;kCACnD,UAAU,iBAAiB;;;;;;;;;;;;0BAGhC,4TAAC;gBAAI,WAAU;;oBACZ,aAAa,GAAG,CAAC,CAAC,qBACjB,4TAAC;4BAEC,MAAK;4BACL,SAAS,IAAM,WAAW;4BAC1B,WAAW,CAAC,kEAAkE,EAC5E,YAAY,GAAG,CAAC,SAAS,eAAe,OACpC,UAAU,CAAC,KAAK,GAChB,iEACJ;sCAED;2BATI;;;;;oBAYR,4BACC,4TAAC;wBAAK,WAAU;kCAA4C;;;;;;;;;;;;;;;;;;AAOtE;GA/DgB;KAAA"}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/Tag.tsx"],"sourcesContent":["\"use client\";\n\ntype TagVariant = \"default\" | \"success\" | \"warning\" | \"danger\" | \"info\";\n\ninterface TagProps {\n  children: React.ReactNode;\n  variant?: TagVariant;\n  className?: string;\n}\n\nconst variantStyles: Record<TagVariant, string> = {\n  default:\n    \"bg-ctp-surface1 text-ctp-subtext1\",\n  success:\n    \"bg-ctp-green/15 text-ctp-green\",\n  warning:\n    \"bg-ctp-yellow/15 text-ctp-yellow\",\n  danger:\n    \"bg-ctp-red/15 text-ctp-red\",\n  info:\n    \"bg-ctp-blue/15 text-ctp-blue\",\n};\n\nexport function Tag({ children, variant = \"default\", className = \"\" }: TagProps) {\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 text-xs font-mono font-medium rounded-pill ${variantStyles[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAUA,MAAM,gBAA4C;IAChD,SACE;IACF,SACE;IACF,SACE;IACF,QACE;IACF,MACE;AACJ;AAEO,SAAS,IAAI,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,YAAY,EAAE,EAAY;IAC7E,qBACE,4TAAC;QACC,WAAW,CAAC,kFAAkF,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;kBAEpI;;;;;;AAGP;KARgB"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/memory/MemoryEntry.tsx"],"sourcesContent":["\"use client\";\n\nimport type { MemoryResult } from \"@/lib/types\";\nimport { Tag } from \"@/components/shared/Tag\";\n\ninterface MemoryEntryProps {\n  memory: MemoryResult;\n}\n\nconst typeBorder: Record<string, string> = {\n  semantic: \"border-ctp-blue\",\n  episodic: \"border-ctp-mauve\",\n  procedural: \"border-ctp-green\",\n};\n\nexport function MemoryEntry({ memory }: MemoryEntryProps) {\n  return (\n    <div\n      className={`border-l-2 ${typeBorder[memory.type] || \"border-ctp-surface1\"} pl-3 py-2`}\n    >\n      <div className=\"flex items-center gap-2 mb-1\">\n        <Tag\n          variant={\n            memory.type === \"semantic\"\n              ? \"info\"\n              : memory.type === \"episodic\"\n                ? \"default\"\n                : \"success\"\n          }\n        >\n          {memory.type}\n        </Tag>\n        <span className=\"text-2xs text-ctp-overlay0 font-mono tabular-nums\">\n          score: {typeof memory.score === \"number\" ? memory.score.toFixed(2) : \"—\"}\n        </span>\n        {memory.importance !== undefined && (\n          <span className=\"text-2xs text-ctp-overlay0 font-mono tabular-nums\">\n            imp: {memory.importance}\n          </span>\n        )}\n      </div>\n      <div className=\"text-sm text-ctp-subtext1 mb-1\">{memory.content}</div>\n      {memory.tags && memory.tags.length > 0 && (\n        <div className=\"flex flex-wrap gap-1\">\n          {memory.tags.map((tag) => (\n            <span\n              key={tag}\n              className=\"text-2xs px-1.5 py-0.5 rounded bg-ctp-surface0 text-ctp-overlay1 font-mono\"\n            >\n              {tag}\n            </span>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASA,MAAM,aAAqC;IACzC,UAAU;IACV,UAAU;IACV,YAAY;AACd;AAEO,SAAS,YAAY,EAAE,MAAM,EAAoB;IACtD,qBACE,4TAAC;QACC,WAAW,CAAC,WAAW,EAAE,UAAU,CAAC,OAAO,IAAI,CAAC,IAAI,sBAAsB,UAAU,CAAC;;0BAErF,4TAAC;gBAAI,WAAU;;kCACb,4TAAC,kKAAG;wBACF,SACE,OAAO,IAAI,KAAK,aACZ,SACA,OAAO,IAAI,KAAK,aACd,YACA;kCAGP,OAAO,IAAI;;;;;;kCAEd,4TAAC;wBAAK,WAAU;;4BAAoD;4BAC1D,OAAO,OAAO,KAAK,KAAK,WAAW,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK;;;;;;;oBAEtE,OAAO,UAAU,KAAK,2BACrB,4TAAC;wBAAK,WAAU;;4BAAoD;4BAC5D,OAAO,UAAU;;;;;;;;;;;;;0BAI7B,4TAAC;gBAAI,WAAU;0BAAkC,OAAO,OAAO;;;;;;YAC9D,OAAO,IAAI,IAAI,OAAO,IAAI,CAAC,MAAM,GAAG,mBACnC,4TAAC;gBAAI,WAAU;0BACZ,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,oBAChB,4TAAC;wBAEC,WAAU;kCAET;uBAHI;;;;;;;;;;;;;;;;AAUnB;KAzCgB"}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/EmptyState.tsx"],"sourcesContent":["\"use client\";\n\nimport { type ReactNode } from \"react\";\n\ninterface EmptyStateProps {\n  message: string;\n  hint?: ReactNode;\n  className?: string;\n}\n\nexport function EmptyState({ message, hint, className = \"\" }: EmptyStateProps) {\n  return (\n    <div className={`py-8 text-center font-mono ${className}`}>\n      <div className=\"text-sm text-ctp-overlay0\">{message}</div>\n      {hint && (\n        <div className=\"text-xs text-ctp-overlay0/70 mt-1\">{hint}</div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAUO,SAAS,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,EAAmB;IAC3E,qBACE,4TAAC;QAAI,WAAW,CAAC,2BAA2B,EAAE,WAAW;;0BACvD,4TAAC;gBAAI,WAAU;0BAA6B;;;;;;YAC3C,sBACC,4TAAC;gBAAI,WAAU;0BAAqC;;;;;;;;;;;;AAI5D;KATgB"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/memory/MemoryResults.tsx"],"sourcesContent":["\"use client\";\n\nimport type { MemoryResult } from \"@/lib/types\";\nimport { MemoryEntry } from \"./MemoryEntry\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface MemoryResultsProps {\n  results: MemoryResult[];\n  loading?: boolean;\n}\n\nexport function MemoryResults({ results, loading }: MemoryResultsProps) {\n  if (loading) {\n    return (\n      <div className=\"py-8 text-center\">\n        <div className=\"inline-block w-4 h-4 rounded-full border-2 border-ctp-blue/30 border-t-ctp-blue animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!results.length) {\n    return <EmptyState message=\"No memories found. Try a different query.\" />;\n  }\n\n  return (\n    <div className=\"space-y-1\">\n      {results.map((memory, i) => (\n        <MemoryEntry key={`${memory.type}-${i}`} memory={memory} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAWO,SAAS,cAAc,EAAE,OAAO,EAAE,OAAO,EAAsB;IACpE,IAAI,SAAS;QACX,qBACE,4TAAC;YAAI,WAAU;sBACb,cAAA,4TAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,QAAQ,MAAM,EAAE;QACnB,qBAAO,4TAAC,gLAAU;YAAC,SAAQ;;;;;;IAC7B;IAEA,qBACE,4TAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,kBACpB,4TAAC,kLAAW;gBAA6B,QAAQ;eAA/B,GAAG,OAAO,IAAI,CAAC,CAAC,EAAE,GAAG;;;;;;;;;;AAI/C;KApBgB"}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/memory/StoreFactForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback, type FormEvent } from \"react\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\n\ninterface StoreFactFormProps {\n  onStore: (fact: {\n    category: string;\n    fact: string;\n    tags?: string[];\n    importance?: number;\n  }) => Promise<void>;\n}\n\nexport function StoreFactForm({ onStore }: StoreFactFormProps) {\n  const [open, setOpen] = useState(false);\n  const [category, setCategory] = useState(\"\");\n  const [fact, setFact] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [importance, setImportance] = useState(\"0.5\");\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  const handleSubmit = useCallback(\n    async (e: FormEvent) => {\n      e.preventDefault();\n      if (!category.trim() || !fact.trim()) return;\n      setSaving(true);\n      setMessage(null);\n      try {\n        await onStore({\n          category: category.trim(),\n          fact: fact.trim(),\n          tags: tags\n            .split(\",\")\n            .map((t) => t.trim())\n            .filter(Boolean),\n          importance: Number(importance) || 0.5,\n        });\n        setMessage(\"Fact stored successfully\");\n        setFact(\"\");\n      } catch (err) {\n        setMessage(\n          `Error: ${err instanceof Error ? err.message : \"Store failed\"}`\n        );\n      } finally {\n        setSaving(false);\n      }\n    },\n    [category, fact, tags, importance, onStore]\n  );\n\n  return (\n    <div className=\"os-panel\">\n      <button\n        onClick={() => setOpen(!open)}\n        className=\"w-full px-3 py-2 flex items-center justify-between text-xs text-ctp-overlay1 hover:text-ctp-text transition-colors font-mono\"\n      >\n        <span>+ Store new fact</span>\n        <span className=\"text-ctp-overlay0\">{open ? \"−\" : \"+\"}</span>\n      </button>\n      {open && (\n        <form onSubmit={handleSubmit} className=\"px-3 pb-3 space-y-3\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            <Input\n              label=\"Category\"\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n              placeholder=\"e.g. user-preferences\"\n            />\n            <Input\n              label=\"Tags (comma-separated)\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"e.g. prefs, ui\"\n            />\n          </div>\n          <Input\n            label=\"Fact\"\n            value={fact}\n            onChange={(e) => setFact(e.target.value)}\n            placeholder=\"e.g. User prefers dark mode\"\n          />\n          <div className=\"flex items-end gap-3\">\n            <div className=\"w-32\">\n              <Input\n                label=\"Importance (0-1)\"\n                type=\"number\"\n                value={importance}\n                onChange={(e) => setImportance(e.target.value)}\n                min=\"0\"\n                max=\"1\"\n                step=\"0.1\"\n              />\n            </div>\n            <Button type=\"submit\" disabled={saving || !fact.trim()}>\n              {saving ? \"Storing...\" : \"Store\"}\n            </Button>\n          </div>\n          {message && (\n            <div\n              className={`text-xs font-mono ${message.startsWith(\"Error\") ? \"text-ctp-red\" : \"text-ctp-green\"}`}\n            >\n              {message}\n            </div>\n          )}\n        </form>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAeO,SAAS,cAAc,EAAE,OAAO,EAAsB;;IAC3D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wSAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wSAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wSAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wSAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wSAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wSAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAgB;IAEtD,MAAM,eAAe,IAAA,2SAAW;mDAC9B,OAAO;YACL,EAAE,cAAc;YAChB,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,KAAK,IAAI,IAAI;YACtC,UAAU;YACV,WAAW;YACX,IAAI;gBACF,MAAM,QAAQ;oBACZ,UAAU,SAAS,IAAI;oBACvB,MAAM,KAAK,IAAI;oBACf,MAAM,KACH,KAAK,CAAC,KACN,GAAG;mEAAC,CAAC,IAAM,EAAE,IAAI;kEACjB,MAAM,CAAC;oBACV,YAAY,OAAO,eAAe;gBACpC;gBACA,WAAW;gBACX,QAAQ;YACV,EAAE,OAAO,KAAK;gBACZ,WACE,CAAC,OAAO,EAAE,eAAe,QAAQ,IAAI,OAAO,GAAG,gBAAgB;YAEnE,SAAU;gBACR,UAAU;YACZ;QACF;kDACA;QAAC;QAAU;QAAM;QAAM;QAAY;KAAQ;IAG7C,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBACC,SAAS,IAAM,QAAQ,CAAC;gBACxB,WAAU;;kCAEV,4TAAC;kCAAK;;;;;;kCACN,4TAAC;wBAAK,WAAU;kCAAqB,OAAO,MAAM;;;;;;;;;;;;YAEnD,sBACC,4TAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,4TAAC;wBAAI,WAAU;;0CACb,4TAAC,sKAAK;gCACJ,OAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,aAAY;;;;;;0CAEd,4TAAC,sKAAK;gCACJ,OAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,aAAY;;;;;;;;;;;;kCAGhB,4TAAC,sKAAK;wBACJ,OAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,aAAY;;;;;;kCAEd,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAI,WAAU;0CACb,cAAA,4TAAC,sKAAK;oCACJ,OAAM;oCACN,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,KAAI;oCACJ,KAAI;oCACJ,MAAK;;;;;;;;;;;0CAGT,4TAAC,wKAAM;gCAAC,MAAK;gCAAS,UAAU,UAAU,CAAC,KAAK,IAAI;0CACjD,SAAS,eAAe;;;;;;;;;;;;oBAG5B,yBACC,4TAAC;wBACC,WAAW,CAAC,kBAAkB,EAAE,QAAQ,UAAU,CAAC,WAAW,iBAAiB,kBAAkB;kCAEhG;;;;;;;;;;;;;;;;;;AAOf;GAhGgB;KAAA"}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/hooks/useMemory.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { MemoryResult } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\nexport function useMemory() {\n  const { sendAgentTask, operatorAgentId } = useWebSocket();\n  const [results, setResults] = useState<MemoryResult[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const search = useCallback(\n    async (\n      query: string,\n      types?: string[],\n      limit?: number\n    ) => {\n      if (!operatorAgentId) {\n        setError(\"Set an operator agent in Settings first\");\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const result = (await sendAgentTask(operatorAgentId, {\n          type: \"search_memory\",\n          query,\n          ...(types?.length && { types }),\n          ...(limit && { limit }),\n        })) as { memories?: MemoryResult[] };\n        setResults(result?.memories ?? []);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Search failed\");\n        setResults([]);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  const storeFact = useCallback(\n    async (fact: {\n      category: string;\n      fact: string;\n      tags?: string[];\n      importance?: number;\n    }) => {\n      if (!operatorAgentId) {\n        throw new Error(\"Set an operator agent in Settings first\");\n      }\n      await sendAgentTask(operatorAgentId, {\n        type: \"store_fact\",\n        ...fact,\n      });\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  return { results, loading, error, search, storeFact };\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;;AAJA;;;AAMO,SAAS;;IACd,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,IAAA,oKAAY;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAiB,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wSAAQ,EAAgB;IAElD,MAAM,SAAS,IAAA,2SAAW;yCACxB,OACE,OACA,OACA;YAEA,IAAI,CAAC,iBAAiB;gBACpB,SAAS;gBACT;YACF;YACA,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,SAAU,MAAM,cAAc,iBAAiB;oBACnD,MAAM;oBACN;oBACA,GAAI,OAAO,UAAU;wBAAE;oBAAM,CAAC;oBAC9B,GAAI,SAAS;wBAAE;oBAAM,CAAC;gBACxB;gBACA,WAAW,QAAQ,YAAY,EAAE;YACnC,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,WAAW,EAAE;YACf,SAAU;gBACR,WAAW;YACb;QACF;wCACA;QAAC;QAAe;KAAgB;IAGlC,MAAM,YAAY,IAAA,2SAAW;4CAC3B,OAAO;YAML,IAAI,CAAC,iBAAiB;gBACpB,MAAM,IAAI,MAAM;YAClB;YACA,MAAM,cAAc,iBAAiB;gBACnC,MAAM;gBACN,GAAG,IAAI;YACT;QACF;2CACA;QAAC;QAAe;KAAgB;IAGlC,OAAO;QAAE;QAAS;QAAS;QAAO;QAAQ;IAAU;AACtD;GAvDgB;;QAC6B,oKAAY"}},
    {"offset": {"line": 890, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/app/memory/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { Window } from \"@/components/shell/Window\";\nimport { Panel } from \"@/components/shared/Panel\";\nimport { MemorySearch } from \"@/components/memory/MemorySearch\";\nimport { MemoryResults } from \"@/components/memory/MemoryResults\";\nimport { StoreFactForm } from \"@/components/memory/StoreFactForm\";\nimport { useMemory } from \"@/hooks/useMemory\";\n\nconst MEMORY_TYPES = [\n  {\n    id: \"semantic\",\n    label: \"Semantic\",\n    active: \"text-ctp-blue bg-ctp-blue/10 font-medium\",\n    inactive: \"text-ctp-overlay1 hover:text-ctp-blue hover:bg-ctp-blue/5\",\n    iconActive: \"text-ctp-blue\",\n    icon: <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><path d=\"M12 16v-4M12 8h.01\" /></svg>,\n  },\n  {\n    id: \"episodic\",\n    label: \"Episodic\",\n    active: \"text-ctp-mauve bg-ctp-mauve/10 font-medium\",\n    inactive: \"text-ctp-overlay1 hover:text-ctp-mauve hover:bg-ctp-mauve/5\",\n    iconActive: \"text-ctp-mauve\",\n    icon: <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><polyline points=\"12 6 12 12 16 14\" /></svg>,\n  },\n  {\n    id: \"procedural\",\n    label: \"Procedural\",\n    active: \"text-ctp-green bg-ctp-green/10 font-medium\",\n    inactive: \"text-ctp-overlay1 hover:text-ctp-green hover:bg-ctp-green/5\",\n    iconActive: \"text-ctp-green\",\n    icon: <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><polyline points=\"4 17 10 11 4 5\" /><line x1=\"12\" y1=\"19\" x2=\"20\" y2=\"19\" /></svg>,\n  },\n] as const;\n\nexport default function MemoryPage() {\n  const { results, loading, error, search, storeFact } = useMemory();\n  const [activeType, setActiveType] = useState<string | null>(null);\n\n  const handleTypeClick = useCallback((typeId: string) => {\n    setActiveType((prev) => prev === typeId ? null : typeId);\n  }, []);\n\n  const handleSearch = useCallback((query: string, types?: string[]) => {\n    const filterTypes = activeType ? [activeType] : types;\n    search(query, filterTypes);\n  }, [activeType, search]);\n\n  return (\n    <Window\n      title=\"File Manager — Memory\"\n      icon={\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n          <path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\" />\n        </svg>\n      }\n      className=\"h-full\"\n    >\n      <div className=\"flex flex-col lg:flex-row gap-4 h-full\">\n        {/* Sidebar — memory types */}\n        <div className=\"lg:w-48 shrink-0\">\n          <Panel className=\"space-y-1\">\n            <h2 className=\"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-2\">\n              Memory Types\n            </h2>\n            {MEMORY_TYPES.map((type) => {\n              const isActive = activeType === type.id;\n              return (\n                <button\n                  key={type.id}\n                  onClick={() => handleTypeClick(type.id)}\n                  className={`w-full flex items-center gap-2 px-2 py-1.5 rounded-input text-xs font-mono transition-colors text-left ${\n                    isActive ? type.active : type.inactive\n                  }`}\n                >\n                  <span className={isActive ? type.iconActive : \"text-ctp-overlay0\"}>\n                    {type.icon}\n                  </span>\n                  {type.label}\n                  {isActive && (\n                    <span className=\"ml-auto text-2xs text-ctp-overlay0\">✕</span>\n                  )}\n                </button>\n              );\n            })}\n          </Panel>\n          <div className=\"mt-3\">\n            <StoreFactForm onStore={storeFact} />\n          </div>\n        </div>\n\n        {/* Main — search + results */}\n        <div className=\"flex-1 min-w-0\">\n          <Panel>\n            <MemorySearch\n              onSearch={handleSearch}\n              loading={loading}\n              activeType={activeType}\n            />\n            {error && (\n              <div className=\"mt-2 text-xs text-ctp-red font-mono\">{error}</div>\n            )}\n            <div className=\"mt-4\">\n              <MemoryResults results={results} loading={loading} />\n            </div>\n          </Panel>\n        </div>\n      </div>\n    </Window>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}