{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/layout/PageHeader.tsx"],"sourcesContent":["\"use client\";\n\ninterface PageHeaderProps {\n  title: string;\n  subtitle?: string;\n}\n\nexport function PageHeader({ title, subtitle }: PageHeaderProps) {\n  return (\n    <div className=\"mb-6\">\n      <h1 className=\"text-2xl font-heading font-bold text-white\">{title}</h1>\n      {subtitle && (\n        <p className=\"mt-1 text-sm text-white/50\">{subtitle}</p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAOO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAmB;IAC7D,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAG,WAAU;0BAA8C;;;;;;YAC3D,0BACC,6WAAC;gBAAE,WAAU;0BAA8B;;;;;;;;;;;;AAInD"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/chat/ChatMessage.tsx"],"sourcesContent":["\"use client\";\n\nimport type { DisplayMessage } from \"@/hooks/useChat\";\n\ninterface ChatMessageProps {\n  message: DisplayMessage;\n}\n\nexport function ChatMessage({ message }: ChatMessageProps) {\n  const isUser = message.role === \"user\";\n\n  return (\n    <div\n      className={`flex ${isUser ? \"justify-end\" : \"justify-start\"} mb-4`}\n    >\n      <div\n        className={`max-w-[75%] rounded-card px-4 py-3 ${\n          isUser\n            ? \"bg-gradient-to-r from-accent-blue/20 to-accent-blue/10 border border-accent-blue/20\"\n            : \"glass-card\"\n        }`}\n      >\n        {!isUser && message.agentName && (\n          <div className=\"flex items-center gap-1.5 mb-1.5\">\n            <span className=\"w-2 h-2 rounded-full bg-green-400 animate-pulse\" />\n            <span className=\"text-2xs font-medium text-green-300/80\">\n              {message.agentName}\n            </span>\n          </div>\n        )}\n        <div className=\"text-sm text-white whitespace-pre-wrap break-words\">\n          {message.content}\n          {message.streaming && (\n            <span className=\"inline-block w-1.5 h-4 ml-0.5 bg-accent-blue animate-pulse rounded-sm\" />\n          )}\n        </div>\n        <div className=\"flex items-center gap-2 mt-2 text-2xs text-white/30\">\n          <span>{message.timestamp}</span>\n          {message.model && <span>{message.model}</span>}\n          {message.usage && (\n            <span>\n              {message.usage.totalTokens} tokens\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQO,SAAS,YAAY,EAAE,OAAO,EAAoB;IACvD,MAAM,SAAS,QAAQ,IAAI,KAAK;IAEhC,qBACE,6WAAC;QACC,WAAW,CAAC,KAAK,EAAE,SAAS,gBAAgB,gBAAgB,KAAK,CAAC;kBAElE,cAAA,6WAAC;YACC,WAAW,CAAC,mCAAmC,EAC7C,SACI,wFACA,cACJ;;gBAED,CAAC,UAAU,QAAQ,SAAS,kBAC3B,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAK,WAAU;;;;;;sCAChB,6WAAC;4BAAK,WAAU;sCACb,QAAQ,SAAS;;;;;;;;;;;;8BAIxB,6WAAC;oBAAI,WAAU;;wBACZ,QAAQ,OAAO;wBACf,QAAQ,SAAS,kBAChB,6WAAC;4BAAK,WAAU;;;;;;;;;;;;8BAGpB,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;sCAAM,QAAQ,SAAS;;;;;;wBACvB,QAAQ,KAAK,kBAAI,6WAAC;sCAAM,QAAQ,KAAK;;;;;;wBACrC,QAAQ,KAAK,kBACZ,6WAAC;;gCACE,QAAQ,KAAK,CAAC,WAAW;gCAAC;;;;;;;;;;;;;;;;;;;;;;;;AAOzC"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/EmptyState.tsx"],"sourcesContent":["\"use client\";\n\ninterface EmptyStateProps {\n  message: string;\n  className?: string;\n}\n\nexport function EmptyState({ message, className = \"\" }: EmptyStateProps) {\n  return (\n    <div className={`py-8 text-center text-sm text-ctp-overlay0 font-mono ${className}`}>\n      {message}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAOO,SAAS,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,EAAmB;IACrE,qBACE,6WAAC;QAAI,WAAW,CAAC,qDAAqD,EAAE,WAAW;kBAChF;;;;;;AAGP"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/chat/ChatPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport type { DisplayMessage } from \"@/hooks/useChat\";\nimport { ChatMessage } from \"./ChatMessage\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface ChatPanelProps {\n  messages: DisplayMessage[];\n}\n\nexport function ChatPanel({ messages }: ChatPanelProps) {\n  const bottomRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  if (!messages.length) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center\">\n        <EmptyState message=\"Start a conversation by typing a message below\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex-1 overflow-y-auto pr-2 py-4\">\n      {messages.map((msg) => (\n        <ChatMessage key={msg.id} message={msg} />\n      ))}\n      <div ref={bottomRef} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAWO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,MAAM,YAAY,IAAA,8UAAM,EAAiB;IAEzC,IAAA,iVAAS,EAAC;QACR,UAAU,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IACzD,GAAG;QAAC;KAAS;IAEb,IAAI,CAAC,SAAS,MAAM,EAAE;QACpB,qBACE,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC,6KAAU;gBAAC,SAAQ;;;;;;;;;;;IAG1B;IAEA,qBACE,6WAAC;QAAI,WAAU;;YACZ,SAAS,GAAG,CAAC,CAAC,oBACb,6WAAC,6KAAW;oBAAc,SAAS;mBAAjB,IAAI,EAAE;;;;;0BAE1B,6WAAC;gBAAI,KAAK;;;;;;;;;;;;AAGhB"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/chat/ChatInput.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useCallback, type KeyboardEvent } from \"react\";\n\ninterface ChatInputProps {\n  onSend: (message: string) => void;\n  disabled?: boolean;\n}\n\nexport function ChatInput({ onSend, disabled }: ChatInputProps) {\n  const [value, setValue] = useState(\"\");\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const handleSend = useCallback(() => {\n    const trimmed = value.trim();\n    if (!trimmed || disabled) return;\n    onSend(trimmed);\n    setValue(\"\");\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n    }\n  }, [value, disabled, onSend]);\n\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent<HTMLTextAreaElement>) => {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        handleSend();\n      }\n    },\n    [handleSend]\n  );\n\n  const handleInput = useCallback(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, []);\n\n  return (\n    <div className=\"flex items-end gap-3 glass-card p-3\">\n      <textarea\n        ref={textareaRef}\n        value={value}\n        onChange={(e) => {\n          setValue(e.target.value);\n          handleInput();\n        }}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Type a message... (Enter to send, Shift+Enter for new line)\"\n        rows={1}\n        disabled={disabled}\n        className=\"flex-1 bg-transparent text-sm text-white placeholder:text-white/30 resize-none focus:outline-none disabled:opacity-40 min-h-[36px] max-h-[200px]\"\n      />\n      <button\n        onClick={handleSend}\n        disabled={disabled || !value.trim()}\n        className=\"px-4 py-2 rounded-input bg-gradient-to-r from-accent-blue to-accent-magenta text-white text-sm font-medium hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed transition-opacity shrink-0\"\n      >\n        Send\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAkB;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gVAAQ,EAAC;IACnC,MAAM,cAAc,IAAA,8UAAM,EAAsB;IAEhD,MAAM,aAAa,IAAA,mVAAW,EAAC;QAC7B,MAAM,UAAU,MAAM,IAAI;QAC1B,IAAI,CAAC,WAAW,UAAU;QAC1B,OAAO;QACP,SAAS;QACT,IAAI,YAAY,OAAO,EAAE;YACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;QACrC;IACF,GAAG;QAAC;QAAO;QAAU;KAAO;IAE5B,MAAM,gBAAgB,IAAA,mVAAW,EAC/B,CAAC;QACC,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF,GACA;QAAC;KAAW;IAGd,MAAM,cAAc,IAAA,mVAAW,EAAC;QAC9B,IAAI,YAAY,OAAO,EAAE;YACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;YACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,KAAK,GAAG,CAAC,YAAY,OAAO,CAAC,YAAY,EAAE,KAAK,EAAE,CAAC;QAC3F;IACF,GAAG,EAAE;IAEL,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBACC,KAAK;gBACL,OAAO;gBACP,UAAU,CAAC;oBACT,SAAS,EAAE,MAAM,CAAC,KAAK;oBACvB;gBACF;gBACA,WAAW;gBACX,aAAY;gBACZ,MAAM;gBACN,UAAU;gBACV,WAAU;;;;;;0BAEZ,6WAAC;gBACC,SAAS;gBACT,UAAU,YAAY,CAAC,MAAM,IAAI;gBACjC,WAAU;0BACX;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/chat/AgentSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport type { AgentInfo } from \"@/lib/types\";\n\ninterface AgentSelectorProps {\n  agents: AgentInfo[];\n  selectedId: string | null;\n  onSelect: (id: string | null) => void;\n}\n\nexport function AgentSelector({\n  agents,\n  selectedId,\n  onSelect,\n}: AgentSelectorProps) {\n  return (\n    <div className=\"flex items-center gap-2\">\n      <label className=\"text-xs text-white/50\">Send to:</label>\n      <select\n        value={selectedId || \"\"}\n        onChange={(e) => onSelect(e.target.value || null)}\n        className=\"bg-white/5 border border-surface-border rounded-input px-3 py-1.5 text-sm text-white focus:outline-none focus:border-accent-blue/50 transition-colors\"\n      >\n        <option value=\"\" className=\"bg-navy-800\">\n          Direct LLM\n        </option>\n        {agents.map((agent) => (\n          <option\n            key={agent.id}\n            value={agent.id}\n            className=\"bg-navy-800\"\n          >\n            {agent.name || agent.id} ({agent.externalId || agent.id})\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAUO,SAAS,cAAc,EAC5B,MAAM,EACN,UAAU,EACV,QAAQ,EACW;IACnB,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAM,WAAU;0BAAwB;;;;;;0BACzC,6WAAC;gBACC,OAAO,cAAc;gBACrB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK,IAAI;gBAC5C,WAAU;;kCAEV,6WAAC;wBAAO,OAAM;wBAAG,WAAU;kCAAc;;;;;;oBAGxC,OAAO,GAAG,CAAC,CAAC,sBACX,6WAAC;4BAEC,OAAO,MAAM,EAAE;4BACf,WAAU;;gCAET,MAAM,IAAI,IAAI,MAAM,EAAE;gCAAC;gCAAG,MAAM,UAAU,IAAI,MAAM,EAAE;gCAAC;;2BAJnD,MAAM,EAAE;;;;;;;;;;;;;;;;;AAUzB"}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/shared/Button.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ButtonHTMLAttributes, ReactNode } from \"react\";\n\ntype ButtonVariant = \"primary\" | \"ghost\" | \"danger\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant;\n  children: ReactNode;\n}\n\nconst variantStyles: Record<ButtonVariant, string> = {\n  primary:\n    \"bg-ctp-blue text-ctp-crust font-medium hover:bg-ctp-lavender active:bg-ctp-sapphire\",\n  ghost:\n    \"bg-ctp-surface0 text-ctp-subtext1 hover:bg-ctp-surface1 hover:text-ctp-text active:bg-ctp-surface2\",\n  danger:\n    \"bg-ctp-red/15 text-ctp-red hover:bg-ctp-red/25 active:bg-ctp-red/35\",\n};\n\nexport function Button({\n  variant = \"primary\",\n  children,\n  className = \"\",\n  disabled,\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      className={`px-4 py-2 rounded-input text-sm transition-colors duration-150 disabled:opacity-40 disabled:cursor-not-allowed ${variantStyles[variant]} ${className}`}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAWA,MAAM,gBAA+C;IACnD,SACE;IACF,OACE;IACF,QACE;AACJ;AAEO,SAAS,OAAO,EACrB,UAAU,SAAS,EACnB,QAAQ,EACR,YAAY,EAAE,EACd,QAAQ,EACR,GAAG,OACS;IACZ,qBACE,6WAAC;QACC,WAAW,CAAC,+GAA+G,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;QAClK,UAAU;QACT,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/hooks/useChat.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { ChatMessage, TokenUsage } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\nexport interface DisplayMessage {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  model?: string;\n  usage?: TokenUsage;\n  streaming?: boolean;\n  timestamp: string;\n  agentName?: string;\n}\n\nexport function useChat() {\n  const { sendStreamingChat, sendAgentTask, operatorAgentId } = useWebSocket();\n  const [messages, setMessages] = useState<DisplayMessage[]>([]);\n  const [streaming, setStreaming] = useState(false);\n\n  const sendMessage = useCallback(\n    async (\n      content: string,\n      options?: { agentId?: string; agentName?: string; model?: string }\n    ) => {\n      const userMsg: DisplayMessage = {\n        id: `user-${Date.now()}`,\n        role: \"user\",\n        content,\n        timestamp: new Date().toLocaleTimeString(),\n      };\n      setMessages((prev) => [...prev, userMsg]);\n\n      const assistantId = `assistant-${Date.now()}`;\n      const assistantMsg: DisplayMessage = {\n        id: assistantId,\n        role: \"assistant\",\n        content: \"\",\n        streaming: true,\n        timestamp: new Date().toLocaleTimeString(),\n        agentName: options?.agentName,\n      };\n      setMessages((prev) => [...prev, assistantMsg]);\n      setStreaming(true);\n\n      try {\n        const targetAgent = options?.agentId || operatorAgentId;\n\n        if (targetAgent) {\n          // Send through an agent\n          const result = (await sendAgentTask(targetAgent, {\n            type: \"chat\",\n            messages: [{ role: \"user\", content }],\n          })) as { content?: string; model?: string };\n\n          setMessages((prev) =>\n            prev.map((m) =>\n              m.id === assistantId\n                ? {\n                    ...m,\n                    content: result?.content || \"No response\",\n                    model: result?.model,\n                    streaming: false,\n                  }\n                : m\n            )\n          );\n        } else {\n          // Direct LLM chat with streaming\n          const chatMessages: ChatMessage[] = [\n            ...messages\n              .filter((m) => !m.streaming)\n              .map((m) => ({\n                role: m.role as \"user\" | \"assistant\",\n                content: m.content,\n              })),\n            { role: \"user\" as const, content },\n          ];\n\n          const result = await sendStreamingChat(\n            chatMessages,\n            (delta) => {\n              setMessages((prev) =>\n                prev.map((m) =>\n                  m.id === assistantId\n                    ? { ...m, content: m.content + delta }\n                    : m\n                )\n              );\n            },\n            { model: options?.model }\n          );\n\n          setMessages((prev) =>\n            prev.map((m) =>\n              m.id === assistantId\n                ? {\n                    ...m,\n                    content: result.content,\n                    model: result.model,\n                    usage: result.usage,\n                    streaming: false,\n                  }\n                : m\n            )\n          );\n        }\n      } catch (err) {\n        setMessages((prev) =>\n          prev.map((m) =>\n            m.id === assistantId\n              ? {\n                  ...m,\n                  content: `Error: ${err instanceof Error ? err.message : \"Unknown error\"}`,\n                  streaming: false,\n                }\n              : m\n          )\n        );\n      } finally {\n        setStreaming(false);\n      }\n    },\n    [messages, sendStreamingChat, sendAgentTask, operatorAgentId]\n  );\n\n  const clearMessages = useCallback(() => {\n    setMessages([]);\n  }, []);\n\n  return { messages, streaming, sendMessage, clearMessages };\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;AAiBO,SAAS;IACd,MAAM,EAAE,iBAAiB,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,IAAA,iKAAY;IAC1E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAmB,EAAE;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAC;IAE3C,MAAM,cAAc,IAAA,mVAAW,EAC7B,OACE,SACA;QAEA,MAAM,UAA0B;YAC9B,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,MAAM;YACN;YACA,WAAW,IAAI,OAAO,kBAAkB;QAC1C;QACA,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAQ;QAExC,MAAM,cAAc,CAAC,UAAU,EAAE,KAAK,GAAG,IAAI;QAC7C,MAAM,eAA+B;YACnC,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,WAAW,IAAI,OAAO,kBAAkB;YACxC,WAAW,SAAS;QACtB;QACA,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAa;QAC7C,aAAa;QAEb,IAAI;YACF,MAAM,cAAc,SAAS,WAAW;YAExC,IAAI,aAAa;gBACf,wBAAwB;gBACxB,MAAM,SAAU,MAAM,cAAc,aAAa;oBAC/C,MAAM;oBACN,UAAU;wBAAC;4BAAE,MAAM;4BAAQ;wBAAQ;qBAAE;gBACvC;gBAEA,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,cACL;4BACE,GAAG,CAAC;4BACJ,SAAS,QAAQ,WAAW;4BAC5B,OAAO,QAAQ;4BACf,WAAW;wBACb,IACA;YAGV,OAAO;gBACL,iCAAiC;gBACjC,MAAM,eAA8B;uBAC/B,SACA,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,SAAS,EAC1B,GAAG,CAAC,CAAC,IAAM,CAAC;4BACX,MAAM,EAAE,IAAI;4BACZ,SAAS,EAAE,OAAO;wBACpB,CAAC;oBACH;wBAAE,MAAM;wBAAiB;oBAAQ;iBAClC;gBAED,MAAM,SAAS,MAAM,kBACnB,cACA,CAAC;oBACC,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,cACL;gCAAE,GAAG,CAAC;gCAAE,SAAS,EAAE,OAAO,GAAG;4BAAM,IACnC;gBAGV,GACA;oBAAE,OAAO,SAAS;gBAAM;gBAG1B,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,cACL;4BACE,GAAG,CAAC;4BACJ,SAAS,OAAO,OAAO;4BACvB,OAAO,OAAO,KAAK;4BACnB,OAAO,OAAO,KAAK;4BACnB,WAAW;wBACb,IACA;YAGV;QACF,EAAE,OAAO,KAAK;YACZ,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,cACL;wBACE,GAAG,CAAC;wBACJ,SAAS,CAAC,OAAO,EAAE,eAAe,QAAQ,IAAI,OAAO,GAAG,iBAAiB;wBACzE,WAAW;oBACb,IACA;QAGV,SAAU;YACR,aAAa;QACf;IACF,GACA;QAAC;QAAU;QAAmB;QAAe;KAAgB;IAG/D,MAAM,gBAAgB,IAAA,mVAAW,EAAC;QAChC,YAAY,EAAE;IAChB,GAAG,EAAE;IAEL,OAAO;QAAE;QAAU;QAAW;QAAa;IAAc;AAC3D"}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/hooks/useAgents.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport type { AgentInfo } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\nimport {\n  agentStatusMessage,\n  agentSpawnMessage,\n  agentTerminateMessage,\n} from \"@/lib/ws-client\";\n\nconst POLL_INTERVAL = 10_000;\n\nexport function useAgents() {\n  const { status, sendRequest } = useWebSocket();\n  const [agents, setAgents] = useState<AgentInfo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const refresh = useCallback(async () => {\n    if (status !== \"connected\") return;\n    try {\n      setLoading(true);\n      const response = await sendRequest(agentStatusMessage());\n      if (response.type === \"agent_list\" && response.payload) {\n        setAgents(\n          (response.payload.agents as AgentInfo[]) || []\n        );\n        setError(null);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to fetch agents\");\n    } finally {\n      setLoading(false);\n    }\n  }, [status, sendRequest]);\n\n  useEffect(() => {\n    if (status === \"connected\") {\n      refresh();\n      const interval = setInterval(refresh, POLL_INTERVAL);\n      return () => clearInterval(interval);\n    }\n  }, [status, refresh]);\n\n  const spawn = useCallback(\n    async (manifest: Record<string, unknown>) => {\n      const response = await sendRequest(agentSpawnMessage(manifest));\n      if (response.type === \"error\") {\n        throw new Error(\n          (response.payload?.message as string) || \"Failed to spawn agent\"\n        );\n      }\n      await refresh();\n      return response;\n    },\n    [sendRequest, refresh]\n  );\n\n  const terminate = useCallback(\n    async (agentId: string, force = false) => {\n      const response = await sendRequest(\n        agentTerminateMessage(agentId, force)\n      );\n      if (response.type === \"error\") {\n        throw new Error(\n          (response.payload?.message as string) ||\n            \"Failed to terminate agent\"\n        );\n      }\n      await refresh();\n      return response;\n    },\n    [sendRequest, refresh]\n  );\n\n  return { agents, loading, error, refresh, spawn, terminate };\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AALA;;;;AAWA,MAAM,gBAAgB;AAEf,SAAS;IACd,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,iKAAY;IAC5C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAc,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gVAAQ,EAAgB;IAElD,MAAM,UAAU,IAAA,mVAAW,EAAC;QAC1B,IAAI,WAAW,aAAa;QAC5B,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,YAAY,IAAA,qKAAkB;YACrD,IAAI,SAAS,IAAI,KAAK,gBAAgB,SAAS,OAAO,EAAE;gBACtD,UACE,AAAC,SAAS,OAAO,CAAC,MAAM,IAAoB,EAAE;gBAEhD,SAAS;YACX;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF,GAAG;QAAC;QAAQ;KAAY;IAExB,IAAA,iVAAS,EAAC;QACR,IAAI,WAAW,aAAa;YAC1B;YACA,MAAM,WAAW,YAAY,SAAS;YACtC,OAAO,IAAM,cAAc;QAC7B;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,QAAQ,IAAA,mVAAW,EACvB,OAAO;QACL,MAAM,WAAW,MAAM,YAAY,IAAA,oKAAiB,EAAC;QACrD,IAAI,SAAS,IAAI,KAAK,SAAS;YAC7B,MAAM,IAAI,MACR,AAAC,SAAS,OAAO,EAAE,WAAsB;QAE7C;QACA,MAAM;QACN,OAAO;IACT,GACA;QAAC;QAAa;KAAQ;IAGxB,MAAM,YAAY,IAAA,mVAAW,EAC3B,OAAO,SAAiB,QAAQ,KAAK;QACnC,MAAM,WAAW,MAAM,YACrB,IAAA,wKAAqB,EAAC,SAAS;QAEjC,IAAI,SAAS,IAAI,KAAK,SAAS;YAC7B,MAAM,IAAI,MACR,AAAC,SAAS,OAAO,EAAE,WACjB;QAEN;QACA,MAAM;QACN,OAAO;IACT,GACA;QAAC;QAAa;KAAQ;IAGxB,OAAO;QAAE;QAAQ;QAAS;QAAO;QAAS;QAAO;IAAU;AAC7D"}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/app/chat/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { PageHeader } from \"@/components/layout/PageHeader\";\nimport { ChatPanel } from \"@/components/chat/ChatPanel\";\nimport { ChatInput } from \"@/components/chat/ChatInput\";\nimport { AgentSelector } from \"@/components/chat/AgentSelector\";\nimport { Button } from \"@/components/shared/Button\";\nimport { useChat } from \"@/hooks/useChat\";\nimport { useAgents } from \"@/hooks/useAgents\";\nimport { useWebSocket } from \"@/hooks/useWebSocket\";\n\nexport default function ChatPage() {\n  const { status } = useWebSocket();\n  const { messages, streaming, sendMessage, clearMessages } = useChat();\n  const { agents } = useAgents();\n  const [selectedAgentId, setSelectedAgentId] = useState<string | null>(null);\n\n  const selectedAgent = agents.find((a) => a.id === selectedAgentId);\n\n  const handleSend = (content: string) => {\n    sendMessage(content, {\n      agentId: selectedAgentId || undefined,\n      agentName: selectedAgent?.name,\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-4rem)]\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <PageHeader title=\"Chat\" subtitle=\"Talk to the LLM or to a running agent\" />\n        <div className=\"flex items-center gap-3\">\n          <AgentSelector\n            agents={agents}\n            selectedId={selectedAgentId}\n            onSelect={setSelectedAgentId}\n          />\n          {messages.length > 0 && (\n            <Button variant=\"ghost\" onClick={clearMessages}>\n              Clear\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <ChatPanel messages={messages} />\n\n      <div className=\"mt-4\">\n        <ChatInput\n          onSend={handleSend}\n          disabled={status !== \"connected\" || streaming}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,iKAAY;IAC/B,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,IAAA,uJAAO;IACnE,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,2JAAS;IAC5B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gVAAQ,EAAgB;IAEtE,MAAM,gBAAgB,OAAO,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAElD,MAAM,aAAa,CAAC;QAClB,YAAY,SAAS;YACnB,SAAS,mBAAmB;YAC5B,WAAW,eAAe;QAC5B;IACF;IAEA,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAI,WAAU;;kCACb,6WAAC,6KAAU;wBAAC,OAAM;wBAAO,UAAS;;;;;;kCAClC,6WAAC;wBAAI,WAAU;;0CACb,6WAAC,iLAAa;gCACZ,QAAQ;gCACR,YAAY;gCACZ,UAAU;;;;;;4BAEX,SAAS,MAAM,GAAG,mBACjB,6WAAC,qKAAM;gCAAC,SAAQ;gCAAQ,SAAS;0CAAe;;;;;;;;;;;;;;;;;;0BAOtD,6WAAC,yKAAS;gBAAC,UAAU;;;;;;0BAErB,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC,yKAAS;oBACR,QAAQ;oBACR,UAAU,WAAW,eAAe;;;;;;;;;;;;;;;;;AAK9C"}}]
}