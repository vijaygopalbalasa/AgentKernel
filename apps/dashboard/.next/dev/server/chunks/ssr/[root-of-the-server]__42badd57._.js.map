{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/lib/ws-client.ts"],"sourcesContent":["import type { WsMessage, ChatMessage } from \"./types\";\n\nlet counter = 0;\n\nexport function generateId(prefix: string = \"req\"): string {\n  counter += 1;\n  return `${prefix}-${Date.now()}-${counter}`;\n}\n\nexport function authMessage(token: string): WsMessage {\n  return {\n    type: \"auth\",\n    id: generateId(\"auth\"),\n    payload: { token },\n  };\n}\n\nexport function agentStatusMessage(): WsMessage {\n  return {\n    type: \"agent_status\",\n    id: generateId(\"agents\"),\n  };\n}\n\nexport function subscribeMessage(channels: string[]): WsMessage {\n  return {\n    type: \"subscribe\",\n    id: generateId(\"sub\"),\n    payload: { channels },\n  };\n}\n\nexport function chatMessage(\n  messages: ChatMessage[],\n  options?: { model?: string; maxTokens?: number; temperature?: number; stream?: boolean; systemPrompt?: string }\n): WsMessage {\n  return {\n    type: \"chat\",\n    id: generateId(\"chat\"),\n    payload: {\n      messages,\n      ...(options?.model && { model: options.model }),\n      ...(options?.maxTokens && { maxTokens: options.maxTokens }),\n      ...(options?.temperature !== undefined && { temperature: options.temperature }),\n      ...(options?.stream && { stream: true }),\n      ...(options?.systemPrompt && { systemPrompt: options.systemPrompt }),\n    },\n  };\n}\n\nexport function agentTaskMessage(\n  agentId: string,\n  task: Record<string, unknown>\n): WsMessage {\n  return {\n    type: \"agent_task\",\n    id: generateId(\"task\"),\n    payload: { agentId, task },\n  };\n}\n\nexport function agentSpawnMessage(manifest: Record<string, unknown>): WsMessage {\n  return {\n    type: \"agent_spawn\",\n    id: generateId(\"spawn\"),\n    payload: { manifest },\n  };\n}\n\nexport function agentTerminateMessage(\n  agentId: string,\n  force = false\n): WsMessage {\n  return {\n    type: \"agent_terminate\",\n    id: generateId(\"term\"),\n    payload: { agentId, force },\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAEA,IAAI,UAAU;AAEP,SAAS,WAAW,SAAiB,KAAK;IAC/C,WAAW;IACX,OAAO,GAAG,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,SAAS;AAC7C;AAEO,SAAS,YAAY,KAAa;IACvC,OAAO;QACL,MAAM;QACN,IAAI,WAAW;QACf,SAAS;YAAE;QAAM;IACnB;AACF;AAEO,SAAS;IACd,OAAO;QACL,MAAM;QACN,IAAI,WAAW;IACjB;AACF;AAEO,SAAS,iBAAiB,QAAkB;IACjD,OAAO;QACL,MAAM;QACN,IAAI,WAAW;QACf,SAAS;YAAE;QAAS;IACtB;AACF;AAEO,SAAS,YACd,QAAuB,EACvB,OAA+G;IAE/G,OAAO;QACL,MAAM;QACN,IAAI,WAAW;QACf,SAAS;YACP;YACA,GAAI,SAAS,SAAS;gBAAE,OAAO,QAAQ,KAAK;YAAC,CAAC;YAC9C,GAAI,SAAS,aAAa;gBAAE,WAAW,QAAQ,SAAS;YAAC,CAAC;YAC1D,GAAI,SAAS,gBAAgB,aAAa;gBAAE,aAAa,QAAQ,WAAW;YAAC,CAAC;YAC9E,GAAI,SAAS,UAAU;gBAAE,QAAQ;YAAK,CAAC;YACvC,GAAI,SAAS,gBAAgB;gBAAE,cAAc,QAAQ,YAAY;YAAC,CAAC;QACrE;IACF;AACF;AAEO,SAAS,iBACd,OAAe,EACf,IAA6B;IAE7B,OAAO;QACL,MAAM;QACN,IAAI,WAAW;QACf,SAAS;YAAE;YAAS;QAAK;IAC3B;AACF;AAEO,SAAS,kBAAkB,QAAiC;IACjE,OAAO;QACL,MAAM;QACN,IAAI,WAAW;QACf,SAAS;YAAE;QAAS;IACtB;AACF;AAEO,SAAS,sBACd,OAAe,EACf,QAAQ,KAAK;IAEb,OAAO;QACL,MAAM;QACN,IAAI,WAAW;QACf,SAAS;YAAE;YAAS;QAAM;IAC5B;AACF"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/lib/constants.ts"],"sourcesContent":["export const DEFAULT_GATEWAY_HOST =\n  typeof window !== \"undefined\" ? window.location.hostname : \"127.0.0.1\";\n\nexport const DEFAULT_GATEWAY_PORT = 18800;\nexport const DEFAULT_HTTP_PORT = 18801;\n\nexport function getWsUrl(host?: string, port?: number): string {\n  const h = host || DEFAULT_GATEWAY_HOST;\n  const p = port || DEFAULT_GATEWAY_PORT;\n  return `ws://${h}:${p}`;\n}\n\nexport function getHealthUrl(host?: string, port?: number): string {\n  const h = host || DEFAULT_GATEWAY_HOST;\n  const p = port || DEFAULT_HTTP_PORT;\n  return `http://${h}:${p}/health`;\n}\n\nexport function getMetricsUrl(host?: string, port?: number): string {\n  const h = host || DEFAULT_GATEWAY_HOST;\n  const p = port || DEFAULT_HTTP_PORT;\n  return `http://${h}:${p}/metrics`;\n}\n\nexport const MAX_EVENTS = 100;\nexport const REQUEST_TIMEOUT_MS = 10_000;\nexport const RECONNECT_BASE_MS = 1_000;\nexport const RECONNECT_MAX_MS = 30_000;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAO,MAAM,uBACX,sCAAgC,0BAA2B;AAEtD,MAAM,uBAAuB;AAC7B,MAAM,oBAAoB;AAE1B,SAAS,SAAS,IAAa,EAAE,IAAa;IACnD,MAAM,IAAI,QAAQ;IAClB,MAAM,IAAI,QAAQ;IAClB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,GAAG;AACzB;AAEO,SAAS,aAAa,IAAa,EAAE,IAAa;IACvD,MAAM,IAAI,QAAQ;IAClB,MAAM,IAAI,QAAQ;IAClB,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC;AAClC;AAEO,SAAS,cAAc,IAAa,EAAE,IAAa;IACxD,MAAM,IAAI,QAAQ;IAClB,MAAM,IAAI,QAAQ;IAClB,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,EAAE,QAAQ,CAAC;AACnC;AAEO,MAAM,aAAa;AACnB,MAAM,qBAAqB;AAC3B,MAAM,oBAAoB;AAC1B,MAAM,mBAAmB"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/providers/WebSocketProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  type ReactNode,\n} from \"react\";\nimport type {\n  WsMessage,\n  ChatMessage,\n  TokenUsage,\n  GatewayEvent,\n  ConnectionStatus,\n} from \"@/lib/types\";\nimport {\n  authMessage,\n  agentStatusMessage,\n  subscribeMessage,\n  chatMessage,\n  agentTaskMessage,\n  generateId,\n} from \"@/lib/ws-client\";\nimport {\n  getWsUrl,\n  MAX_EVENTS,\n  REQUEST_TIMEOUT_MS,\n  RECONNECT_BASE_MS,\n  RECONNECT_MAX_MS,\n} from \"@/lib/constants\";\n\ninterface PendingRequest {\n  resolve: (msg: WsMessage) => void;\n  reject: (err: Error) => void;\n  timeoutId: ReturnType<typeof setTimeout>;\n}\n\ninterface StreamHandler {\n  onDelta: (delta: string) => void;\n  accumulated: string;\n  resolve: (result: {\n    content: string;\n    model?: string;\n    usage?: TokenUsage;\n  }) => void;\n  reject: (err: Error) => void;\n}\n\nexport interface WebSocketContextValue {\n  status: ConnectionStatus;\n  authenticate: (token: string) => void;\n  sendRequest: (message: WsMessage) => Promise<WsMessage>;\n  sendAgentTask: (\n    agentId: string,\n    task: Record<string, unknown>\n  ) => Promise<unknown>;\n  sendStreamingChat: (\n    messages: ChatMessage[],\n    onDelta: (delta: string) => void,\n    options?: { model?: string; maxTokens?: number; temperature?: number }\n  ) => Promise<{ content: string; model?: string; usage?: TokenUsage }>;\n  events: GatewayEvent[];\n  operatorAgentId: string | null;\n  setOperatorAgentId: (id: string | null) => void;\n}\n\nexport const WebSocketContext = createContext<WebSocketContextValue | null>(\n  null\n);\n\nexport function WebSocketProvider({ children }: { children: ReactNode }) {\n  const [status, setStatus] = useState<ConnectionStatus>(\"disconnected\");\n  const [events, setEvents] = useState<GatewayEvent[]>([]);\n  const [operatorAgentId, setOperatorAgentIdState] = useState<string | null>(\n    null\n  );\n\n  const wsRef = useRef<WebSocket | null>(null);\n  const pendingRef = useRef<Map<string, PendingRequest>>(new Map());\n  const streamRef = useRef<Map<string, StreamHandler>>(new Map());\n  const reconnectRef = useRef<number>(0);\n  const reconnectTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const authTokenRef = useRef<string>(\"\");\n  const statusRef = useRef<ConnectionStatus>(\"disconnected\");\n  /** When true the close handler should NOT auto-reconnect */\n  const intentionalCloseRef = useRef(false);\n  /** Stable ref so the close-handler always calls the latest `connect` */\n  const connectRef = useRef<() => void>(() => {});\n\n  useEffect(() => {\n    const savedToken =\n      typeof window !== \"undefined\"\n        ? localStorage.getItem(\"gatewayAuthToken\") || \"\"\n        : \"\";\n    const savedAgent =\n      typeof window !== \"undefined\"\n        ? localStorage.getItem(\"operatorAgentId\") || null\n        : null;\n    authTokenRef.current = savedToken;\n    setOperatorAgentIdState(savedAgent);\n  }, []);\n\n  /* ------------------------------------------------------------------ */\n  /* Helper: push a gateway event into state                            */\n  /* ------------------------------------------------------------------ */\n  const pushEvent = useCallback((event: GatewayEvent) => {\n    setEvents((prev) => [event, ...prev].slice(0, MAX_EVENTS));\n  }, []);\n\n  /* ------------------------------------------------------------------ */\n  /* onConnected — runs after auth_success (or immediate open if no token) */\n  /* ------------------------------------------------------------------ */\n  const onConnectedRef = useRef<(socket: WebSocket) => void>(() => {});\n  onConnectedRef.current = (socket: WebSocket) => {\n    statusRef.current = \"connected\";\n    setStatus(\"connected\");\n    reconnectRef.current = 0;\n    socket.send(JSON.stringify(agentStatusMessage()));\n    socket.send(\n      JSON.stringify(\n        subscribeMessage([\"agent.lifecycle\", \"system\", \"audit\", \"*\"])\n      )\n    );\n    pushEvent({\n      type: \"connection\",\n      summary: \"Connected to gateway\",\n      timestamp: new Date().toLocaleTimeString(),\n    });\n  };\n\n  /* ------------------------------------------------------------------ */\n  /* handleMessage — dispatches incoming WebSocket messages              */\n  /* ------------------------------------------------------------------ */\n  const handleMessageRef = useRef<(event: MessageEvent) => void>(() => {});\n  handleMessageRef.current = (event: MessageEvent) => {\n    let message: WsMessage;\n    try {\n      message = JSON.parse(event.data as string);\n    } catch {\n      return;\n    }\n\n    // Handle pending request/response correlation\n    if (message.id && pendingRef.current.has(message.id)) {\n      const pending = pendingRef.current.get(message.id)!;\n      pendingRef.current.delete(message.id);\n      clearTimeout(pending.timeoutId);\n      pending.resolve(message);\n      return;\n    }\n\n    // Handle streaming chat deltas\n    if (message.type === \"chat_stream\" && message.id) {\n      const handler = streamRef.current.get(message.id);\n      if (handler) {\n        const delta =\n          (message.payload?.delta as string) || \"\";\n        handler.accumulated += delta;\n        handler.onDelta(delta);\n      }\n      return;\n    }\n\n    if (message.type === \"chat_stream_end\" && message.id) {\n      const handler = streamRef.current.get(message.id);\n      if (handler) {\n        streamRef.current.delete(message.id);\n        handler.resolve({\n          content: handler.accumulated,\n          model: message.payload?.model as string | undefined,\n          usage: message.payload?.usage as TokenUsage | undefined,\n        });\n      }\n      return;\n    }\n\n    // Auth flow\n    if (message.type === \"auth_success\") {\n      onConnectedRef.current(wsRef.current!);\n      return;\n    }\n\n    if (message.type === \"auth_required\") {\n      statusRef.current = \"auth_required\";\n      setStatus(\"auth_required\");\n      if (authTokenRef.current) {\n        wsRef.current?.send(\n          JSON.stringify(authMessage(authTokenRef.current))\n        );\n      }\n      return;\n    }\n\n    if (message.type === \"auth_failed\") {\n      statusRef.current = \"auth_failed\";\n      setStatus(\"auth_failed\");\n      pushEvent({\n        type: \"auth\",\n        summary:\n          (message.payload?.message as string) || \"Authentication failed\",\n        timestamp: new Date().toLocaleTimeString(),\n      });\n      return;\n    }\n\n    // Events\n    if (message.type === \"event\" && message.payload) {\n      const payload = message.payload;\n      pushEvent({\n        type: (payload.type as string) || \"event\",\n        summary: payload.channel\n          ? `${payload.channel} ${payload.data ? JSON.stringify(payload.data) : \"\"}`\n          : \"\",\n        timestamp: new Date(\n          (payload.timestamp as string) || Date.now()\n        ).toLocaleTimeString(),\n        channel: payload.channel as string | undefined,\n      });\n      return;\n    }\n\n    // Errors\n    if (message.type === \"error\") {\n      pushEvent({\n        type: \"error\",\n        summary: (message.payload?.message as string) || \"Gateway error\",\n        timestamp: new Date().toLocaleTimeString(),\n      });\n    }\n  };\n\n  /* ------------------------------------------------------------------ */\n  /* connect — opens a new WebSocket to the gateway                     */\n  /* Uses refs so the function identity never changes and the useEffect */\n  /* that calls it only runs once (on mount).                           */\n  /* ------------------------------------------------------------------ */\n  const connect = useCallback(() => {\n    // Cancel any pending reconnect timer\n    if (reconnectTimerRef.current) {\n      clearTimeout(reconnectTimerRef.current);\n      reconnectTimerRef.current = null;\n    }\n\n    // Close existing socket without triggering auto-reconnect\n    if (wsRef.current) {\n      intentionalCloseRef.current = true;\n      wsRef.current.close();\n    }\n\n    statusRef.current = \"connecting\";\n    setStatus(\"connecting\");\n\n    const socket = new WebSocket(getWsUrl());\n    wsRef.current = socket;\n\n    socket.addEventListener(\"open\", () => {\n      if (authTokenRef.current) {\n        socket.send(JSON.stringify(authMessage(authTokenRef.current)));\n      } else {\n        onConnectedRef.current(socket);\n      }\n    });\n\n    socket.addEventListener(\"close\", () => {\n      // If this socket is no longer the active one, ignore\n      if (wsRef.current !== socket) return;\n\n      statusRef.current = \"disconnected\";\n      setStatus(\"disconnected\");\n\n      // Don't auto-reconnect if the close was intentional (we're\n      // already opening a new connection from connect() or authenticate())\n      if (intentionalCloseRef.current) {\n        intentionalCloseRef.current = false;\n        return;\n      }\n\n      // Exponential backoff reconnect\n      const delay = Math.min(\n        RECONNECT_BASE_MS * Math.pow(2, reconnectRef.current),\n        RECONNECT_MAX_MS\n      );\n      reconnectRef.current += 1;\n      reconnectTimerRef.current = setTimeout(\n        () => connectRef.current(),\n        delay\n      );\n    });\n\n    socket.addEventListener(\"message\", (ev) => handleMessageRef.current(ev));\n\n    socket.addEventListener(\"error\", () => {\n      // close handler manages reconnection\n    });\n  }, []);\n\n  // Keep connectRef in sync so the close-handler's setTimeout always\n  // calls the latest version (though with [] deps it never changes).\n  connectRef.current = connect;\n\n  useEffect(() => {\n    connect();\n    return () => {\n      if (reconnectTimerRef.current) {\n        clearTimeout(reconnectTimerRef.current);\n      }\n      if (wsRef.current) {\n        intentionalCloseRef.current = true;\n        wsRef.current.close();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const sendRequest = useCallback(\n    (message: WsMessage): Promise<WsMessage> => {\n      if (!wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n        return Promise.reject(new Error(\"Not connected\"));\n      }\n      return new Promise((resolve, reject) => {\n        const timeoutId = setTimeout(() => {\n          pendingRef.current.delete(message.id);\n          reject(new Error(\"Request timeout\"));\n        }, REQUEST_TIMEOUT_MS);\n\n        pendingRef.current.set(message.id, { resolve, reject, timeoutId });\n        wsRef.current!.send(JSON.stringify(message));\n      });\n    },\n    []\n  );\n\n  const sendAgentTask = useCallback(\n    async (\n      agentId: string,\n      task: Record<string, unknown>\n    ): Promise<unknown> => {\n      const response = await sendRequest(agentTaskMessage(agentId, task));\n      if (response.type === \"agent_task_result\") {\n        if (response.payload?.status === \"ok\") {\n          return response.payload.result;\n        }\n        throw new Error(\n          (response.payload?.error as string) || \"Task failed\"\n        );\n      }\n      if (response.type === \"error\") {\n        throw new Error(\n          (response.payload?.message as string) || \"Gateway error\"\n        );\n      }\n      throw new Error(\"Unexpected response\");\n    },\n    [sendRequest]\n  );\n\n  const sendStreamingChat = useCallback(\n    (\n      messages: ChatMessage[],\n      onDelta: (delta: string) => void,\n      options?: { model?: string; maxTokens?: number; temperature?: number }\n    ): Promise<{ content: string; model?: string; usage?: TokenUsage }> => {\n      if (!wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n        return Promise.reject(new Error(\"Not connected\"));\n      }\n\n      const msg = chatMessage(messages, { ...options, stream: true });\n\n      return new Promise((resolve, reject) => {\n        streamRef.current.set(msg.id, {\n          onDelta,\n          accumulated: \"\",\n          resolve,\n          reject,\n        });\n\n        const timeoutId = setTimeout(() => {\n          if (streamRef.current.has(msg.id)) {\n            const handler = streamRef.current.get(msg.id)!;\n            streamRef.current.delete(msg.id);\n            if (handler.accumulated) {\n              handler.resolve({ content: handler.accumulated });\n            } else {\n              handler.reject(new Error(\"Stream timeout\"));\n            }\n          }\n        }, 60_000);\n\n        wsRef.current!.send(JSON.stringify(msg));\n\n        // Clean up timeout on completion\n        const originalResolve = resolve;\n        const originalReject = reject;\n        const handler = streamRef.current.get(msg.id);\n        if (handler) {\n          handler.resolve = (result) => {\n            clearTimeout(timeoutId);\n            originalResolve(result);\n          };\n          handler.reject = (err) => {\n            clearTimeout(timeoutId);\n            originalReject(err);\n          };\n        }\n      });\n    },\n    []\n  );\n\n  const authenticate = useCallback(\n    (token: string) => {\n      authTokenRef.current = token;\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"gatewayAuthToken\", token);\n      }\n      // Reconnect with new token — connect() handles intentional close internally\n      reconnectRef.current = 0;\n      connect();\n    },\n    [connect]\n  );\n\n  const setOperatorAgentId = useCallback((id: string | null) => {\n    setOperatorAgentIdState(id);\n    if (typeof window !== \"undefined\") {\n      if (id) {\n        localStorage.setItem(\"operatorAgentId\", id);\n      } else {\n        localStorage.removeItem(\"operatorAgentId\");\n      }\n    }\n  }, []);\n\n  return (\n    <WebSocketContext.Provider\n      value={{\n        status,\n        authenticate,\n        sendRequest,\n        sendAgentTask: (agentId: string, task: Record<string, unknown>) =>\n          sendAgentTask(agentId, task),\n        sendStreamingChat,\n        events,\n        operatorAgentId,\n        setOperatorAgentId,\n      }}\n    >\n      {children}\n    </WebSocketContext.Provider>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/layout/ConnectionBadge.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ConnectionStatus } from \"@/lib/types\";\n\ninterface ConnectionBadgeProps {\n  status: ConnectionStatus;\n}\n\nconst statusConfig: Record<\n  ConnectionStatus,\n  { label: string; color: string; bg: string }\n> = {\n  connected: {\n    label: \"Connected\",\n    color: \"text-success\",\n    bg: \"bg-success/15\",\n  },\n  connecting: {\n    label: \"Connecting\",\n    color: \"text-warning\",\n    bg: \"bg-warning/15\",\n  },\n  disconnected: {\n    label: \"Disconnected\",\n    color: \"text-white/50\",\n    bg: \"bg-white/5\",\n  },\n  auth_required: {\n    label: \"Auth Required\",\n    color: \"text-warning\",\n    bg: \"bg-warning/15\",\n  },\n  auth_failed: {\n    label: \"Auth Failed\",\n    color: \"text-danger\",\n    bg: \"bg-danger/15\",\n  },\n};\n\nexport function ConnectionBadge({ status }: ConnectionBadgeProps) {\n  const config = statusConfig[status];\n  return (\n    <div\n      className={`flex items-center gap-2 px-3 py-1.5 rounded-pill text-xs font-medium ${config.color} ${config.bg}`}\n    >\n      <span\n        className={`w-1.5 h-1.5 rounded-full ${\n          status === \"connected\"\n            ? \"bg-success animate-pulse\"\n            : status === \"connecting\"\n              ? \"bg-warning animate-pulse\"\n              : \"bg-white/30\"\n        }`}\n      />\n      {config.label}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQA,MAAM,eAGF;IACF,WAAW;QACT,OAAO;QACP,OAAO;QACP,IAAI;IACN;IACA,YAAY;QACV,OAAO;QACP,OAAO;QACP,IAAI;IACN;IACA,cAAc;QACZ,OAAO;QACP,OAAO;QACP,IAAI;IACN;IACA,eAAe;QACb,OAAO;QACP,OAAO;QACP,IAAI;IACN;IACA,aAAa;QACX,OAAO;QACP,OAAO;QACP,IAAI;IACN;AACF;AAEO,SAAS,gBAAgB,EAAE,MAAM,EAAwB;IAC9D,MAAM,SAAS,YAAY,CAAC,OAAO;IACnC,qBACE,6WAAC;QACC,WAAW,CAAC,qEAAqE,EAAE,OAAO,KAAK,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE;;0BAE9G,6WAAC;gBACC,WAAW,CAAC,yBAAyB,EACnC,WAAW,cACP,6BACA,WAAW,eACT,6BACA,eACN;;;;;;YAEH,OAAO,KAAK;;;;;;;AAGnB"}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/hooks/useWebSocket.ts"],"sourcesContent":["\"use client\";\n\nimport { useContext } from \"react\";\nimport {\n  WebSocketContext,\n  type WebSocketContextValue,\n} from \"@/providers/WebSocketProvider\";\n\nexport function useWebSocket(): WebSocketContextValue {\n  const ctx = useContext(WebSocketContext);\n  if (!ctx) {\n    throw new Error(\"useWebSocket must be used within a WebSocketProvider\");\n  }\n  return ctx;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAQO,SAAS;IACd,MAAM,MAAM,IAAA,kVAAU,EAAC,+KAAgB;IACvC,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/components/layout/Sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { ConnectionBadge } from \"./ConnectionBadge\";\nimport { useWebSocket } from \"@/hooks/useWebSocket\";\n\ninterface NavItem {\n  href: string;\n  label: string;\n  icon: string;\n}\n\nconst navItems: NavItem[] = [\n  { href: \"/\", label: \"Home\", icon: \"grid\" },\n  { href: \"/chat\", label: \"Chat\", icon: \"message\" },\n  { href: \"/agents\", label: \"Agents\", icon: \"cpu\" },\n  { href: \"/memory\", label: \"Memory\", icon: \"database\" },\n  { href: \"/security\", label: \"Security\", icon: \"shield\" },\n  { href: \"/settings\", label: \"Settings\", icon: \"settings\" },\n];\n\nconst iconPaths: Record<string, string> = {\n  grid: \"M3 3h7v7H3V3zm11 0h7v7h-7V3zM3 14h7v7H3v-7zm11 0h7v7h-7v-7z\",\n  message:\n    \"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z\",\n  cpu: \"M9 3v2H6a1 1 0 00-1 1v3H3v2h2v2H3v2h2v3a1 1 0 001 1h3v2h2v-2h2v2h2v-2h3a1 1 0 001-1v-3h2v-2h-2v-2h2V9h-2V6a1 1 0 00-1-1h-3V3h-2v2h-2V3H9zm0 6h6v6H9V9z\",\n  database:\n    \"M12 2C6.48 2 2 3.79 2 6v12c0 2.21 4.48 4 10 4s10-1.79 10-4V6c0-2.21-4.48-4-10-4zM4 18V14.5c1.82 1.21 5.1 2 8 2s6.18-.79 8-2V18c0 .82-3.35 2-8 2s-8-1.18-8-2zm16-6c0 .82-3.35 2-8 2s-8-1.18-8-2V8.5c1.82 1.21 5.1 2 8 2s6.18-.79 8-2V12zm-8-4c-4.65 0-8-1.18-8-2s3.35-2 8-2 8 1.18 8 2-3.35 2-8 2z\",\n  shield:\n    \"M12 2L3 7v5c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-9-5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12.99H5V8.26l7-3.89v8.62z\",\n  settings:\n    \"M12 15.5A3.5 3.5 0 118.5 12 3.5 3.5 0 0112 15.5zm7.43-2.53a7.86 7.86 0 000-1.94l2.11-1.65a.5.5 0 00.12-.64l-2-3.46a.5.5 0 00-.61-.22l-2.49 1a7.3 7.3 0 00-1.69-.98l-.38-2.65A.49.49 0 0014 2h-4a.49.49 0 00-.49.42l-.38 2.65a7.68 7.68 0 00-1.69.98l-2.49-1a.5.5 0 00-.61.22l-2 3.46a.49.49 0 00.12.64l2.11 1.65a8.08 8.08 0 000 1.94l-2.11 1.65a.5.5 0 00-.12.64l2 3.46a.5.5 0 00.61.22l2.49-1a7.3 7.3 0 001.69.98l.38 2.65A.49.49 0 0010 22h4a.49.49 0 00.49-.42l.38-2.65a7.68 7.68 0 001.69-.98l2.49 1a.5.5 0 00.61-.22l2-3.46a.49.49 0 00-.12-.64z\",\n};\n\nfunction NavIcon({ name }: { name: string }) {\n  const path = iconPaths[name] || iconPaths.grid;\n  return (\n    <svg\n      viewBox=\"0 0 24 24\"\n      fill=\"currentColor\"\n      className=\"w-5 h-5\"\n    >\n      <path d={path} />\n    </svg>\n  );\n}\n\nexport function Sidebar() {\n  const pathname = usePathname();\n  const { status } = useWebSocket();\n\n  return (\n    <>\n      {/* Mobile header bar */}\n      <header className=\"lg:hidden fixed top-0 left-0 right-0 h-12 bg-navy-800/80 backdrop-blur-xl border-b border-surface-border flex items-center px-4 z-50\">\n        <div className=\"w-7 h-7 rounded-lg bg-gradient-to-br from-accent-blue to-accent-magenta flex items-center justify-center text-xs font-bold text-white\">\n          A\n        </div>\n        <span className=\"ml-2 font-heading font-bold text-white text-sm\">AgentOS</span>\n        <div className=\"ml-auto\">\n          <ConnectionBadge status={status} />\n        </div>\n      </header>\n\n    <aside className=\"hidden lg:flex fixed top-0 left-0 h-screen w-60 bg-navy-800/60 backdrop-blur-xl border-r border-surface-border flex-col z-50\">\n      {/* Logo */}\n      <div className=\"px-5 py-5 border-b border-surface-border\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-blue to-accent-magenta flex items-center justify-center text-sm font-bold text-white\">\n            A\n          </div>\n          <div>\n            <div className=\"font-heading font-bold text-white text-sm\">\n              AgentOS\n            </div>\n            <div className=\"text-2xs text-white/40\">v0.2.0</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 px-3 py-4 space-y-1 overflow-y-auto\">\n        {navItems.map((item) => {\n          const isActive =\n            item.href === \"/\"\n              ? pathname === \"/\"\n              : pathname.startsWith(item.href);\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex items-center gap-3 px-3 py-2.5 rounded-card text-sm transition-all duration-150 ${\n                isActive\n                  ? \"bg-accent-blue/15 text-accent-blue font-medium\"\n                  : \"text-white/50 hover:text-white/80 hover:bg-white/5\"\n              }`}\n            >\n              <NavIcon name={item.icon} />\n              {item.label}\n            </Link>\n          );\n        })}\n      </nav>\n\n      {/* Connection Status */}\n      <div className=\"px-4 py-4 border-t border-surface-border\">\n        <ConnectionBadge status={status} />\n      </div>\n    </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAaA,MAAM,WAAsB;IAC1B;QAAE,MAAM;QAAK,OAAO;QAAQ,MAAM;IAAO;IACzC;QAAE,MAAM;QAAS,OAAO;QAAQ,MAAM;IAAU;IAChD;QAAE,MAAM;QAAW,OAAO;QAAU,MAAM;IAAM;IAChD;QAAE,MAAM;QAAW,OAAO;QAAU,MAAM;IAAW;IACrD;QAAE,MAAM;QAAa,OAAO;QAAY,MAAM;IAAS;IACvD;QAAE,MAAM;QAAa,OAAO;QAAY,MAAM;IAAW;CAC1D;AAED,MAAM,YAAoC;IACxC,MAAM;IACN,SACE;IACF,KAAK;IACL,UACE;IACF,QACE;IACF,UACE;AACJ;AAEA,SAAS,QAAQ,EAAE,IAAI,EAAoB;IACzC,MAAM,OAAO,SAAS,CAAC,KAAK,IAAI,UAAU,IAAI;IAC9C,qBACE,6WAAC;QACC,SAAQ;QACR,MAAK;QACL,WAAU;kBAEV,cAAA,6WAAC;YAAK,GAAG;;;;;;;;;;;AAGf;AAEO,SAAS;IACd,MAAM,WAAW,IAAA,gRAAW;IAC5B,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,iKAAY;IAE/B,qBACE;;0BAEE,6WAAC;gBAAO,WAAU;;kCAChB,6WAAC;wBAAI,WAAU;kCAAwI;;;;;;kCAGvJ,6WAAC;wBAAK,WAAU;kCAAiD;;;;;;kCACjE,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC,uLAAe;4BAAC,QAAQ;;;;;;;;;;;;;;;;;0BAI/B,6WAAC;gBAAM,WAAU;;kCAEf,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAI,WAAU;8CAAwI;;;;;;8CAGvJ,6WAAC;;sDACC,6WAAC;4CAAI,WAAU;sDAA4C;;;;;;sDAG3D,6WAAC;4CAAI,WAAU;sDAAyB;;;;;;;;;;;;;;;;;;;;;;;kCAM9C,6WAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC;4BACb,MAAM,WACJ,KAAK,IAAI,KAAK,MACV,aAAa,MACb,SAAS,UAAU,CAAC,KAAK,IAAI;4BACnC,qBACE,6WAAC,sSAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC,qFAAqF,EAC/F,WACI,mDACA,sDACJ;;kDAEF,6WAAC;wCAAQ,MAAM,KAAK,IAAI;;;;;;oCACvB,KAAK,KAAK;;+BATN,KAAK,IAAI;;;;;wBAYpB;;;;;;kCAIF,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC,uLAAe;4BAAC,QAAQ;;;;;;;;;;;;;;;;;;;AAKjC"}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///Users/vijaygopalb/AgentOS/apps/dashboard/src/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport \"@/styles/globals.css\";\nimport { WebSocketProvider } from \"@/providers/WebSocketProvider\";\nimport { Sidebar } from \"@/components/layout/Sidebar\";\nimport { Component, type ErrorInfo, type ReactNode } from \"react\";\n\n/** Global error boundary to prevent white-screen crashes */\nclass ErrorBoundary extends Component<\n  { children: ReactNode },\n  { hasError: boolean; error: Error | null }\n> {\n  constructor(props: { children: ReactNode }) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, info: ErrorInfo) {\n    console.error(\"[AgentOS] Uncaught render error:\", error, info.componentStack);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-navy-900 p-8\">\n          <div className=\"max-w-lg w-full bg-white/5 border border-red-500/30 rounded-xl p-8\">\n            <h2 className=\"text-lg font-bold text-red-400 mb-2\">Something went wrong</h2>\n            <p className=\"text-sm text-white/50 mb-4\">\n              The dashboard encountered an error. Try refreshing the page.\n            </p>\n            <pre className=\"text-xs text-red-300/70 bg-black/30 rounded-lg p-3 overflow-auto max-h-40 mb-4\">\n              {this.state.error?.message}\n            </pre>\n            <button\n              onClick={() => {\n                this.setState({ hasError: false, error: null });\n                window.location.reload();\n              }}\n              className=\"px-4 py-2 text-sm font-medium bg-accent-blue/20 text-accent-blue rounded-lg hover:bg-accent-blue/30 transition-colors\"\n            >\n              Reload Page\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <title>AgentOS</title>\n        <meta\n          name=\"description\"\n          content=\"AgentOS — Operating System for AI Agents\"\n        />\n        <link rel=\"icon\" href=\"/favicon.svg\" type=\"image/svg+xml\" />\n      </head>\n      <body>\n        <ErrorBoundary>\n          <WebSocketProvider>\n            <Sidebar />\n            <main className=\"lg:ml-60 min-h-screen p-4 pt-16 lg:p-8 lg:pt-8\">{children}</main>\n          </WebSocketProvider>\n        </ErrorBoundary>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;;AAOA,0DAA0D,GAC1D,MAAM,sBAAsB,iVAAS;IAInC,YAAY,KAA8B,CAAE;QAC1C,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAC9C;IAEA,OAAO,yBAAyB,KAAY,EAAE;QAC5C,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAY,EAAE,IAAe,EAAE;QAC/C,QAAQ,KAAK,CAAC,oCAAoC,OAAO,KAAK,cAAc;IAC9E;IAEA,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,qBACE,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAG,WAAU;sCAAsC;;;;;;sCACpD,6WAAC;4BAAE,WAAU;sCAA6B;;;;;;sCAG1C,6WAAC;4BAAI,WAAU;sCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;;;;;;sCAErB,6WAAC;4BACC,SAAS;gCACP,IAAI,CAAC,QAAQ,CAAC;oCAAE,UAAU;oCAAO,OAAO;gCAAK;gCAC7C,OAAO,QAAQ,CAAC,MAAM;4BACxB;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;QAMT;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF;AAEe,SAAS,WAAW,EACjC,QAAQ,EAGT;IACC,qBACE,6WAAC;QAAK,MAAK;;0BACT,6WAAC;;kCACC,6WAAC;kCAAM;;;;;;kCACP,6WAAC;wBACC,MAAK;wBACL,SAAQ;;;;;;kCAEV,6WAAC;wBAAK,KAAI;wBAAO,MAAK;wBAAe,MAAK;;;;;;;;;;;;0BAE5C,6WAAC;0BACC,cAAA,6WAAC;8BACC,cAAA,6WAAC,gLAAiB;;0CAChB,6WAAC,uKAAO;;;;;0CACR,6WAAC;gCAAK,WAAU;0CAAkD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9E"}}]
}