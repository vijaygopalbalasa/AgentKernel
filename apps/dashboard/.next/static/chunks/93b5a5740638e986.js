(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4457,59913,e=>{"use strict";var t=e.i(87433);function s({children:e,className:s=""}){return(0,t.jsx)("div",{className:`os-panel p-4 ${s}`,children:e})}e.s(["Panel",()=>s],4457);let a={default:"bg-ctp-surface1 text-ctp-subtext1",success:"bg-ctp-green/15 text-ctp-green",warning:"bg-ctp-yellow/15 text-ctp-yellow",danger:"bg-ctp-red/15 text-ctp-red",info:"bg-ctp-blue/15 text-ctp-blue"};function n({children:e,variant:s="default",className:n=""}){return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 text-xs font-mono font-medium rounded-pill ${a[s]} ${n}`,children:e})}e.s(["Tag",()=>n],59913)},23889,e=>{"use strict";var t=e.i(87433),s=e.i(44440),a=e.i(62924);function n({title:e,icon:n,children:l,className:c,noPadding:r}){let o=(0,a.useRouter)(),[i,d]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:`flex flex-col bg-ctp-mantle border border-ctp-surface0 rounded-window shadow-lg shadow-black/20 overflow-hidden ${c??""}`,children:[(0,t.jsxs)("div",{className:"window-titlebar shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mr-2",children:[(0,t.jsx)("button",{onClick:()=>o.push("/"),className:"w-3 h-3 rounded-full bg-ctp-red hover:brightness-110 transition-all",title:"Close â€” go to desktop"}),(0,t.jsx)("button",{onClick:()=>d(!i),className:"w-3 h-3 rounded-full bg-ctp-yellow hover:brightness-110 transition-all",title:i?"Restore":"Minimize"}),(0,t.jsx)("button",{onClick:()=>d(!1),className:"w-3 h-3 rounded-full bg-ctp-green hover:brightness-110 transition-all",title:"Maximize"})]}),n&&(0,t.jsx)("span",{className:"text-ctp-subtext0",children:n}),(0,t.jsx)("span",{className:"text-xs font-mono font-medium text-ctp-subtext1 truncate",children:e})]}),!i&&(0,t.jsx)("div",{className:`flex-1 overflow-auto ${r?"":"p-4"}`,children:l}),i&&(0,t.jsx)("div",{className:"px-4 py-6 text-center",children:(0,t.jsx)("button",{onClick:()=>d(!1),className:"text-xs font-mono text-ctp-overlay0 hover:text-ctp-text transition-colors",children:"Click to restore window"})})]})}e.s(["Window",()=>n])},43332,e=>{"use strict";var t=e.i(87433);let s={primary:"bg-ctp-blue text-ctp-crust font-medium hover:bg-ctp-lavender active:bg-ctp-sapphire",ghost:"bg-ctp-surface0 text-ctp-subtext1 hover:bg-ctp-surface1 hover:text-ctp-text active:bg-ctp-surface2",danger:"bg-ctp-red/15 text-ctp-red hover:bg-ctp-red/25 active:bg-ctp-red/35"};function a({variant:e="primary",children:a,className:n="",disabled:l,...c}){return(0,t.jsx)("button",{className:`px-4 py-2 rounded-input text-sm transition-colors duration-150 cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed ${s[e]} ${n}`,disabled:l,...c,children:a})}e.s(["Button",()=>a])},51339,e=>{"use strict";var t=e.i(87433);function s({label:e,className:s="",id:a,...n}){let l=a||e?.toLowerCase().replace(/\s+/g,"-");return(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&(0,t.jsx)("label",{htmlFor:l,className:"text-xs text-ctp-subtext0 font-medium",children:e}),(0,t.jsx)("input",{id:l,className:`bg-ctp-surface0 border border-ctp-surface1 rounded-input px-3 py-2 text-sm text-ctp-text placeholder:text-ctp-overlay0 focus:outline-none focus:border-ctp-blue/50 focus:ring-1 focus:ring-ctp-blue/20 transition-colors ${s}`,...n})]})}e.s(["Input",()=>s])},22074,e=>{"use strict";var t=e.i(87433),s=e.i(44440),a=e.i(23889),n=e.i(4457),l=e.i(51339),c=e.i(43332),r=e.i(59913),o=e.i(24876),i=e.i(633),d=e.i(44814);function x(){let{status:e,authenticate:x,operatorAgentId:u,setOperatorAgentId:p}=(0,o.useWebSocket)(),{agents:h}=(0,i.useAgents)(),[m,b]=(0,s.useState)(""),[f,g]=(0,s.useState)("");return(0,s.useEffect)(()=>{b(localStorage.getItem("gatewayAuthToken")||"")},[]),(0,s.useEffect)(()=>{g(u||"")},[u]),(0,t.jsx)(a.Window,{title:"System Preferences",icon:(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,t.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),className:"h-full",children:(0,t.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,t.jsxs)(n.Panel,{children:[(0,t.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3",children:"Connection"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-xs text-ctp-overlay0 font-mono",children:"Status:"}),(0,t.jsx)(r.Tag,{variant:"connected"===e?"success":"auth_failed"===e?"danger":"warning",children:e})]}),(0,t.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(l.Input,{label:"Auth Token",type:"password",value:m,onChange:e=>b(e.target.value),placeholder:"Enter gateway auth token"})}),(0,t.jsx)(c.Button,{onClick:()=>{x(m.trim())},children:"Save & Reconnect"})]})]}),(0,t.jsxs)(n.Panel,{children:[(0,t.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3",children:"Operator Agent"}),(0,t.jsx)("p",{className:"text-xs text-ctp-overlay0 mb-3 font-mono",children:"The operator agent is used for memory search, governance tasks, and other operations that require an agent context."}),(0,t.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-xs text-ctp-subtext0 font-mono block mb-1.5",children:"Select Agent"}),(0,t.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"w-full bg-ctp-surface0 border border-ctp-surface1 rounded-input px-3 py-2 text-sm text-ctp-text focus:outline-none focus:border-ctp-blue/50 transition-colors",children:[(0,t.jsx)("option",{value:"",className:"bg-ctp-mantle",children:"Select an agent..."}),h.map(e=>(0,t.jsxs)("option",{value:e.id,className:"bg-ctp-mantle",children:[e.name||e.id," (",e.externalId||e.id,")"]},e.id))]})]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(l.Input,{label:"Or enter manually",value:f,onChange:e=>g(e.target.value),placeholder:"agent-id"})}),(0,t.jsx)(c.Button,{onClick:()=>{p(f.trim()||null)},children:"Set Operator"})]}),u&&(0,t.jsxs)("div",{className:"mt-2 text-xs text-ctp-green font-mono",children:["Active: ",u]})]}),(0,t.jsxs)(n.Panel,{children:[(0,t.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3",children:"About"}),(0,t.jsxs)("div",{className:"space-y-2 text-xs font-mono text-ctp-overlay1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"AgentRun Dashboard"}),(0,t.jsx)("span",{className:"text-ctp-overlay0",children:"v0.2.0"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Gateway WebSocket"}),(0,t.jsx)("span",{className:"text-ctp-overlay0",children:(0,d.getWsUrl)()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Gateway HTTP"}),(0,t.jsx)("a",{href:(0,d.getHealthUrl)(),target:"_blank",rel:"noopener noreferrer",className:"text-ctp-lavender hover:text-ctp-blue transition-colors underline decoration-ctp-surface1 hover:decoration-ctp-blue",children:(0,d.getHealthUrl)().replace("/health","")})]})]})]})]})})}e.s(["default",()=>x])}]);