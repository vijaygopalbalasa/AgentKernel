{"version":3,"sources":["../../../../../../apps/dashboard/src/components/shell/Window.tsx","../../../../../../apps/dashboard/src/components/shared/EmptyState.tsx","../../../../../../apps/dashboard/src/components/shared/Button.tsx","../../../../../../apps/dashboard/src/components/shared/Panel.tsx","../../../../../../apps/dashboard/src/components/shared/Tag.tsx","../../../../../../apps/dashboard/src/components/shared/Input.tsx","../../../../../../apps/dashboard/src/app/memory/page.tsx","../../../../../../apps/dashboard/src/components/memory/MemorySearch.tsx","../../../../../../apps/dashboard/src/components/memory/MemoryEntry.tsx","../../../../../../apps/dashboard/src/components/memory/MemoryResults.tsx","../../../../../../apps/dashboard/src/components/memory/StoreFactForm.tsx","../../../../../../apps/dashboard/src/hooks/useMemory.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, type ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ninterface WindowProps {\n  title: string;\n  icon?: ReactNode;\n  children: ReactNode;\n  className?: string;\n  /** Remove inner padding — useful for full-bleed content like terminals */\n  noPadding?: boolean;\n}\n\nexport function Window({ title, icon, children, className, noPadding }: WindowProps) {\n  const router = useRouter();\n  const [minimized, setMinimized] = useState(false);\n\n  return (\n    <div\n      className={`flex flex-col bg-ctp-mantle border border-ctp-surface0 rounded-window shadow-lg shadow-black/20 overflow-hidden ${className ?? \"\"}`}\n    >\n      {/* Title bar */}\n      <div className=\"window-titlebar shrink-0\">\n        {/* Traffic lights */}\n        <div className=\"flex items-center gap-1.5 mr-2\">\n          <button\n            onClick={() => router.push(\"/\")}\n            className=\"w-3 h-3 rounded-full bg-ctp-red hover:brightness-110 transition-all\"\n            title=\"Close — go to desktop\"\n          />\n          <button\n            onClick={() => setMinimized(!minimized)}\n            className=\"w-3 h-3 rounded-full bg-ctp-yellow hover:brightness-110 transition-all\"\n            title={minimized ? \"Restore\" : \"Minimize\"}\n          />\n          <button\n            onClick={() => setMinimized(false)}\n            className=\"w-3 h-3 rounded-full bg-ctp-green hover:brightness-110 transition-all\"\n            title=\"Maximize\"\n          />\n        </div>\n\n        {/* App icon + title */}\n        {icon && <span className=\"text-ctp-subtext0\">{icon}</span>}\n        <span className=\"text-xs font-mono font-medium text-ctp-subtext1 truncate\">\n          {title}\n        </span>\n      </div>\n\n      {/* Content */}\n      {!minimized && (\n        <div className={`flex-1 overflow-auto ${noPadding ? \"\" : \"p-4\"}`}>\n          {children}\n        </div>\n      )}\n      {minimized && (\n        <div className=\"px-4 py-6 text-center\">\n          <button\n            onClick={() => setMinimized(false)}\n            className=\"text-xs font-mono text-ctp-overlay0 hover:text-ctp-text transition-colors\"\n          >\n            Click to restore window\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { type ReactNode } from \"react\";\n\ninterface EmptyStateProps {\n  message: string;\n  hint?: ReactNode;\n  className?: string;\n}\n\nexport function EmptyState({ message, hint, className = \"\" }: EmptyStateProps) {\n  return (\n    <div className={`py-8 text-center font-mono ${className}`}>\n      <div className=\"text-sm text-ctp-overlay0\">{message}</div>\n      {hint && (\n        <div className=\"text-xs text-ctp-overlay0/70 mt-1\">{hint}</div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport type { ButtonHTMLAttributes, ReactNode } from \"react\";\n\ntype ButtonVariant = \"primary\" | \"ghost\" | \"danger\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant;\n  children: ReactNode;\n}\n\nconst variantStyles: Record<ButtonVariant, string> = {\n  primary:\n    \"bg-ctp-blue text-ctp-crust font-medium hover:bg-ctp-lavender active:bg-ctp-sapphire\",\n  ghost:\n    \"bg-ctp-surface0 text-ctp-subtext1 hover:bg-ctp-surface1 hover:text-ctp-text active:bg-ctp-surface2\",\n  danger:\n    \"bg-ctp-red/15 text-ctp-red hover:bg-ctp-red/25 active:bg-ctp-red/35\",\n};\n\nexport function Button({\n  variant = \"primary\",\n  children,\n  className = \"\",\n  disabled,\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      className={`px-4 py-2 rounded-input text-sm transition-colors duration-150 cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed ${variantStyles[variant]} ${className}`}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n","\"use client\";\n\nimport type { ReactNode } from \"react\";\n\ninterface PanelProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function Panel({ children, className = \"\" }: PanelProps) {\n  return (\n    <div\n      className={`os-panel p-4 ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n","\"use client\";\n\ntype TagVariant = \"default\" | \"success\" | \"warning\" | \"danger\" | \"info\";\n\ninterface TagProps {\n  children: React.ReactNode;\n  variant?: TagVariant;\n  className?: string;\n}\n\nconst variantStyles: Record<TagVariant, string> = {\n  default:\n    \"bg-ctp-surface1 text-ctp-subtext1\",\n  success:\n    \"bg-ctp-green/15 text-ctp-green\",\n  warning:\n    \"bg-ctp-yellow/15 text-ctp-yellow\",\n  danger:\n    \"bg-ctp-red/15 text-ctp-red\",\n  info:\n    \"bg-ctp-blue/15 text-ctp-blue\",\n};\n\nexport function Tag({ children, variant = \"default\", className = \"\" }: TagProps) {\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 text-xs font-mono font-medium rounded-pill ${variantStyles[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n}\n","\"use client\";\n\nimport type { InputHTMLAttributes } from \"react\";\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n}\n\nexport function Input({ label, className = \"\", id, ...props }: InputProps) {\n  const inputId = id || label?.toLowerCase().replace(/\\s+/g, \"-\");\n  return (\n    <div className=\"flex flex-col gap-1.5\">\n      {label && (\n        <label htmlFor={inputId} className=\"text-xs text-ctp-subtext0 font-medium\">\n          {label}\n        </label>\n      )}\n      <input\n        id={inputId}\n        className={`bg-ctp-surface0 border border-ctp-surface1 rounded-input px-3 py-2 text-sm text-ctp-text placeholder:text-ctp-overlay0 focus:outline-none focus:border-ctp-blue/50 focus:ring-1 focus:ring-ctp-blue/20 transition-colors ${className}`}\n        {...props}\n      />\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { Window } from \"@/components/shell/Window\";\nimport { Panel } from \"@/components/shared/Panel\";\nimport { MemorySearch } from \"@/components/memory/MemorySearch\";\nimport { MemoryResults } from \"@/components/memory/MemoryResults\";\nimport { StoreFactForm } from \"@/components/memory/StoreFactForm\";\nimport { useMemory } from \"@/hooks/useMemory\";\n\nconst MEMORY_TYPES = [\n  {\n    id: \"semantic\",\n    label: \"Semantic\",\n    active: \"text-ctp-blue bg-ctp-blue/10 font-medium\",\n    inactive: \"text-ctp-overlay1 hover:text-ctp-blue hover:bg-ctp-blue/5\",\n    iconActive: \"text-ctp-blue\",\n    icon: <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><path d=\"M12 16v-4M12 8h.01\" /></svg>,\n  },\n  {\n    id: \"episodic\",\n    label: \"Episodic\",\n    active: \"text-ctp-mauve bg-ctp-mauve/10 font-medium\",\n    inactive: \"text-ctp-overlay1 hover:text-ctp-mauve hover:bg-ctp-mauve/5\",\n    iconActive: \"text-ctp-mauve\",\n    icon: <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\" /><polyline points=\"12 6 12 12 16 14\" /></svg>,\n  },\n  {\n    id: \"procedural\",\n    label: \"Procedural\",\n    active: \"text-ctp-green bg-ctp-green/10 font-medium\",\n    inactive: \"text-ctp-overlay1 hover:text-ctp-green hover:bg-ctp-green/5\",\n    iconActive: \"text-ctp-green\",\n    icon: <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><polyline points=\"4 17 10 11 4 5\" /><line x1=\"12\" y1=\"19\" x2=\"20\" y2=\"19\" /></svg>,\n  },\n] as const;\n\nexport default function MemoryPage() {\n  const { results, loading, error, search, storeFact } = useMemory();\n  const [activeType, setActiveType] = useState<string | null>(null);\n\n  const handleTypeClick = useCallback((typeId: string) => {\n    setActiveType((prev) => prev === typeId ? null : typeId);\n  }, []);\n\n  const handleSearch = useCallback((query: string, types?: string[]) => {\n    const filterTypes = activeType ? [activeType] : types;\n    search(query, filterTypes);\n  }, [activeType, search]);\n\n  return (\n    <Window\n      title=\"File Manager — Memory\"\n      icon={\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n          <path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\" />\n        </svg>\n      }\n      className=\"h-full\"\n    >\n      <div className=\"flex flex-col lg:flex-row gap-4 h-full\">\n        {/* Sidebar — memory types */}\n        <div className=\"lg:w-48 shrink-0\">\n          <Panel className=\"space-y-1\">\n            <h2 className=\"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-2\">\n              Memory Types\n            </h2>\n            {MEMORY_TYPES.map((type) => {\n              const isActive = activeType === type.id;\n              return (\n                <button\n                  key={type.id}\n                  onClick={() => handleTypeClick(type.id)}\n                  className={`w-full flex items-center gap-2 px-2 py-1.5 rounded-input text-xs font-mono transition-colors text-left ${\n                    isActive ? type.active : type.inactive\n                  }`}\n                >\n                  <span className={isActive ? type.iconActive : \"text-ctp-overlay0\"}>\n                    {type.icon}\n                  </span>\n                  {type.label}\n                  {isActive && (\n                    <span className=\"ml-auto text-2xs text-ctp-overlay0\">✕</span>\n                  )}\n                </button>\n              );\n            })}\n          </Panel>\n          <div className=\"mt-3\">\n            <StoreFactForm onStore={storeFact} />\n          </div>\n        </div>\n\n        {/* Main — search + results */}\n        <div className=\"flex-1 min-w-0\">\n          <Panel>\n            <MemorySearch\n              onSearch={handleSearch}\n              loading={loading}\n              activeType={activeType}\n            />\n            {error && (\n              <div className=\"mt-2 text-xs text-ctp-red font-mono\">{error}</div>\n            )}\n            <div className=\"mt-4\">\n              <MemoryResults results={results} loading={loading} />\n            </div>\n          </Panel>\n        </div>\n      </div>\n    </Window>\n  );\n}\n","\"use client\";\n\nimport { useState, useCallback, type FormEvent } from \"react\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\n\ninterface MemorySearchProps {\n  onSearch: (query: string, types?: string[]) => void;\n  loading?: boolean;\n  activeType?: string | null;\n}\n\nconst MEMORY_TYPES = [\"semantic\", \"episodic\", \"procedural\"] as const;\n\nconst typeColors: Record<string, string> = {\n  semantic: \"border-ctp-blue bg-ctp-blue/15 text-ctp-blue\",\n  episodic: \"border-ctp-mauve bg-ctp-mauve/15 text-ctp-mauve\",\n  procedural: \"border-ctp-green bg-ctp-green/15 text-ctp-green\",\n};\n\nexport function MemorySearch({ onSearch, loading, activeType }: MemorySearchProps) {\n  const [query, setQuery] = useState(\"\");\n  const [activeTypes, setActiveTypes] = useState<Set<string>>(new Set());\n\n  const toggleType = useCallback((type: string) => {\n    setActiveTypes((prev) => {\n      const next = new Set(prev);\n      if (next.has(type)) {\n        next.delete(type);\n      } else {\n        next.add(type);\n      }\n      return next;\n    });\n  }, []);\n\n  const handleSubmit = useCallback(\n    (e: FormEvent) => {\n      e.preventDefault();\n      if (!query.trim()) return;\n      const types = activeTypes.size > 0 ? [...activeTypes] : undefined;\n      onSearch(query.trim(), types);\n    },\n    [query, activeTypes, onSearch]\n  );\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-3\">\n      <div className=\"flex gap-3\">\n        <div className=\"flex-1\">\n          <Input\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"Search memory...\"\n          />\n        </div>\n        <Button type=\"submit\" disabled={loading || !query.trim()}>\n          {loading ? \"Searching...\" : \"Search\"}\n        </Button>\n      </div>\n      <div className=\"flex gap-2 items-center\">\n        {MEMORY_TYPES.map((type) => (\n          <button\n            key={type}\n            type=\"button\"\n            onClick={() => toggleType(type)}\n            className={`px-3 py-1 text-xs font-mono rounded-pill border transition-colors ${\n              activeTypes.has(type) || activeType === type\n                ? typeColors[type]\n                : \"border-ctp-surface1 text-ctp-overlay0 hover:text-ctp-subtext1\"\n            }`}\n          >\n            {type}\n          </button>\n        ))}\n        {activeType && (\n          <span className=\"text-2xs text-ctp-overlay0 font-mono ml-1\">\n            (filtered via sidebar)\n          </span>\n        )}\n      </div>\n    </form>\n  );\n}\n","\"use client\";\n\nimport type { MemoryResult } from \"@/lib/types\";\nimport { Tag } from \"@/components/shared/Tag\";\n\ninterface MemoryEntryProps {\n  memory: MemoryResult;\n}\n\nconst typeBorder: Record<string, string> = {\n  semantic: \"border-ctp-blue\",\n  episodic: \"border-ctp-mauve\",\n  procedural: \"border-ctp-green\",\n};\n\nexport function MemoryEntry({ memory }: MemoryEntryProps) {\n  return (\n    <div\n      className={`border-l-2 ${typeBorder[memory.type] || \"border-ctp-surface1\"} pl-3 py-2`}\n    >\n      <div className=\"flex items-center gap-2 mb-1\">\n        <Tag\n          variant={\n            memory.type === \"semantic\"\n              ? \"info\"\n              : memory.type === \"episodic\"\n                ? \"default\"\n                : \"success\"\n          }\n        >\n          {memory.type}\n        </Tag>\n        <span className=\"text-2xs text-ctp-overlay0 font-mono tabular-nums\">\n          score: {typeof memory.score === \"number\" ? memory.score.toFixed(2) : \"—\"}\n        </span>\n        {memory.importance !== undefined && (\n          <span className=\"text-2xs text-ctp-overlay0 font-mono tabular-nums\">\n            imp: {memory.importance}\n          </span>\n        )}\n      </div>\n      <div className=\"text-sm text-ctp-subtext1 mb-1\">{memory.content}</div>\n      {memory.tags && memory.tags.length > 0 && (\n        <div className=\"flex flex-wrap gap-1\">\n          {memory.tags.map((tag) => (\n            <span\n              key={tag}\n              className=\"text-2xs px-1.5 py-0.5 rounded bg-ctp-surface0 text-ctp-overlay1 font-mono\"\n            >\n              {tag}\n            </span>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport type { MemoryResult } from \"@/lib/types\";\nimport { MemoryEntry } from \"./MemoryEntry\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface MemoryResultsProps {\n  results: MemoryResult[];\n  loading?: boolean;\n}\n\nexport function MemoryResults({ results, loading }: MemoryResultsProps) {\n  if (loading) {\n    return (\n      <div className=\"py-8 text-center\">\n        <div className=\"inline-block w-4 h-4 rounded-full border-2 border-ctp-blue/30 border-t-ctp-blue animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!results.length) {\n    return <EmptyState message=\"No memories found. Try a different query.\" />;\n  }\n\n  return (\n    <div className=\"space-y-1\">\n      {results.map((memory, i) => (\n        <MemoryEntry key={`${memory.type}-${i}`} memory={memory} />\n      ))}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useCallback, type FormEvent } from \"react\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\n\ninterface StoreFactFormProps {\n  onStore: (fact: {\n    category: string;\n    fact: string;\n    tags?: string[];\n    importance?: number;\n  }) => Promise<void>;\n}\n\nexport function StoreFactForm({ onStore }: StoreFactFormProps) {\n  const [open, setOpen] = useState(false);\n  const [category, setCategory] = useState(\"\");\n  const [fact, setFact] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [importance, setImportance] = useState(\"0.5\");\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  const handleSubmit = useCallback(\n    async (e: FormEvent) => {\n      e.preventDefault();\n      if (!category.trim() || !fact.trim()) return;\n      setSaving(true);\n      setMessage(null);\n      try {\n        await onStore({\n          category: category.trim(),\n          fact: fact.trim(),\n          tags: tags\n            .split(\",\")\n            .map((t) => t.trim())\n            .filter(Boolean),\n          importance: Number(importance) || 0.5,\n        });\n        setMessage(\"Fact stored successfully\");\n        setFact(\"\");\n      } catch (err) {\n        setMessage(\n          `Error: ${err instanceof Error ? err.message : \"Store failed\"}`\n        );\n      } finally {\n        setSaving(false);\n      }\n    },\n    [category, fact, tags, importance, onStore]\n  );\n\n  return (\n    <div className=\"os-panel\">\n      <button\n        onClick={() => setOpen(!open)}\n        className=\"w-full px-3 py-2 flex items-center justify-between text-xs text-ctp-overlay1 hover:text-ctp-text transition-colors font-mono\"\n      >\n        <span>+ Store new fact</span>\n        <span className=\"text-ctp-overlay0\">{open ? \"−\" : \"+\"}</span>\n      </button>\n      {open && (\n        <form onSubmit={handleSubmit} className=\"px-3 pb-3 space-y-3\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            <Input\n              label=\"Category\"\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n              placeholder=\"e.g. user-preferences\"\n            />\n            <Input\n              label=\"Tags (comma-separated)\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"e.g. prefs, ui\"\n            />\n          </div>\n          <Input\n            label=\"Fact\"\n            value={fact}\n            onChange={(e) => setFact(e.target.value)}\n            placeholder=\"e.g. User prefers dark mode\"\n          />\n          <div className=\"flex items-end gap-3\">\n            <div className=\"w-32\">\n              <Input\n                label=\"Importance (0-1)\"\n                type=\"number\"\n                value={importance}\n                onChange={(e) => setImportance(e.target.value)}\n                min=\"0\"\n                max=\"1\"\n                step=\"0.1\"\n              />\n            </div>\n            <Button type=\"submit\" disabled={saving || !fact.trim()}>\n              {saving ? \"Storing...\" : \"Store\"}\n            </Button>\n          </div>\n          {message && (\n            <div\n              className={`text-xs font-mono ${message.startsWith(\"Error\") ? \"text-ctp-red\" : \"text-ctp-green\"}`}\n            >\n              {message}\n            </div>\n          )}\n        </form>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { MemoryResult } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\nexport function useMemory() {\n  const { sendAgentTask, operatorAgentId } = useWebSocket();\n  const [results, setResults] = useState<MemoryResult[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const search = useCallback(\n    async (\n      query: string,\n      types?: string[],\n      limit?: number\n    ) => {\n      if (!operatorAgentId) {\n        setError(\"Set an operator agent in Settings first\");\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const result = (await sendAgentTask(operatorAgentId, {\n          type: \"search_memory\",\n          query,\n          ...(types?.length && { types }),\n          ...(limit && { limit }),\n        })) as { memories?: MemoryResult[] };\n        setResults(result?.memories ?? []);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Search failed\");\n        setResults([]);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  const storeFact = useCallback(\n    async (fact: {\n      category: string;\n      fact: string;\n      tags?: string[];\n      importance?: number;\n    }) => {\n      if (!operatorAgentId) {\n        throw new Error(\"Set an operator agent in Settings first\");\n      }\n      await sendAgentTask(operatorAgentId, {\n        type: \"store_fact\",\n        ...fact,\n      });\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  return { results, loading, error, search, storeFact };\n}\n"],"names":[],"mappings":"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"}