{"version":3,"sources":["../../../../../../apps/dashboard/src/components/shared/Button.tsx","../../../../../../apps/dashboard/src/components/shell/Window.tsx","../../../../../../apps/dashboard/src/components/shared/EmptyState.tsx","../../../../../../apps/dashboard/src/app/chat/page.tsx","../../../../../../apps/dashboard/src/components/chat/ChatMessage.tsx","../../../../../../apps/dashboard/src/components/chat/ChatPanel.tsx","../../../../../../apps/dashboard/src/components/chat/ChatInput.tsx","../../../../../../apps/dashboard/src/components/chat/AgentSelector.tsx","../../../../../../apps/dashboard/src/hooks/useChat.ts"],"sourcesContent":["\"use client\";\n\nimport type { ButtonHTMLAttributes, ReactNode } from \"react\";\n\ntype ButtonVariant = \"primary\" | \"ghost\" | \"danger\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant;\n  children: ReactNode;\n}\n\nconst variantStyles: Record<ButtonVariant, string> = {\n  primary:\n    \"bg-ctp-blue text-ctp-crust font-medium hover:bg-ctp-lavender active:bg-ctp-sapphire\",\n  ghost:\n    \"bg-ctp-surface0 text-ctp-subtext1 hover:bg-ctp-surface1 hover:text-ctp-text active:bg-ctp-surface2\",\n  danger:\n    \"bg-ctp-red/15 text-ctp-red hover:bg-ctp-red/25 active:bg-ctp-red/35\",\n};\n\nexport function Button({\n  variant = \"primary\",\n  children,\n  className = \"\",\n  disabled,\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      className={`px-4 py-2 rounded-input text-sm transition-colors duration-150 cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed ${variantStyles[variant]} ${className}`}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n","\"use client\";\n\nimport { useState, type ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ninterface WindowProps {\n  title: string;\n  icon?: ReactNode;\n  children: ReactNode;\n  className?: string;\n  /** Remove inner padding — useful for full-bleed content like terminals */\n  noPadding?: boolean;\n}\n\nexport function Window({ title, icon, children, className, noPadding }: WindowProps) {\n  const router = useRouter();\n  const [minimized, setMinimized] = useState(false);\n\n  return (\n    <div\n      className={`flex flex-col bg-ctp-mantle border border-ctp-surface0 rounded-window shadow-lg shadow-black/20 overflow-hidden ${className ?? \"\"}`}\n    >\n      {/* Title bar */}\n      <div className=\"window-titlebar shrink-0\">\n        {/* Traffic lights */}\n        <div className=\"flex items-center gap-1.5 mr-2\">\n          <button\n            onClick={() => router.push(\"/\")}\n            className=\"w-3 h-3 rounded-full bg-ctp-red hover:brightness-110 transition-all\"\n            title=\"Close — go to desktop\"\n          />\n          <button\n            onClick={() => setMinimized(!minimized)}\n            className=\"w-3 h-3 rounded-full bg-ctp-yellow hover:brightness-110 transition-all\"\n            title={minimized ? \"Restore\" : \"Minimize\"}\n          />\n          <button\n            onClick={() => setMinimized(false)}\n            className=\"w-3 h-3 rounded-full bg-ctp-green hover:brightness-110 transition-all\"\n            title=\"Maximize\"\n          />\n        </div>\n\n        {/* App icon + title */}\n        {icon && <span className=\"text-ctp-subtext0\">{icon}</span>}\n        <span className=\"text-xs font-mono font-medium text-ctp-subtext1 truncate\">\n          {title}\n        </span>\n      </div>\n\n      {/* Content */}\n      {!minimized && (\n        <div className={`flex-1 overflow-auto ${noPadding ? \"\" : \"p-4\"}`}>\n          {children}\n        </div>\n      )}\n      {minimized && (\n        <div className=\"px-4 py-6 text-center\">\n          <button\n            onClick={() => setMinimized(false)}\n            className=\"text-xs font-mono text-ctp-overlay0 hover:text-ctp-text transition-colors\"\n          >\n            Click to restore window\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { type ReactNode } from \"react\";\n\ninterface EmptyStateProps {\n  message: string;\n  hint?: ReactNode;\n  className?: string;\n}\n\nexport function EmptyState({ message, hint, className = \"\" }: EmptyStateProps) {\n  return (\n    <div className={`py-8 text-center font-mono ${className}`}>\n      <div className=\"text-sm text-ctp-overlay0\">{message}</div>\n      {hint && (\n        <div className=\"text-xs text-ctp-overlay0/70 mt-1\">{hint}</div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { Window } from \"@/components/shell/Window\";\nimport { ChatPanel } from \"@/components/chat/ChatPanel\";\nimport { ChatInput } from \"@/components/chat/ChatInput\";\nimport { AgentSelector } from \"@/components/chat/AgentSelector\";\nimport { Button } from \"@/components/shared/Button\";\nimport { useChat } from \"@/hooks/useChat\";\nimport { useAgents } from \"@/hooks/useAgents\";\nimport { useWebSocket } from \"@/hooks/useWebSocket\";\n\nexport default function ChatPage() {\n  const { status } = useWebSocket();\n  const { messages, streaming, sendMessage, clearMessages } = useChat();\n  const { agents } = useAgents();\n  const [selectedAgentId, setSelectedAgentId] = useState<string | null>(null);\n\n  const selectedAgent = agents.find((a) => a.id === selectedAgentId);\n\n  const handleSend = (content: string) => {\n    sendMessage(content, {\n      agentId: selectedAgentId || undefined,\n      agentName: selectedAgent?.name,\n    });\n  };\n\n  return (\n    <Window\n      title=\"Terminal\"\n      icon={\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n          <polyline points=\"4 17 10 11 4 5\" />\n          <line x1=\"12\" y1=\"19\" x2=\"20\" y2=\"19\" />\n        </svg>\n      }\n      noPadding\n      className=\"h-full\"\n    >\n      <div className=\"flex flex-col h-full terminal-bg\">\n        {/* Toolbar */}\n        <div className=\"flex items-center justify-between px-3 py-2 border-b border-ctp-surface0 bg-ctp-crust/50\">\n          <AgentSelector\n            agents={agents}\n            selectedId={selectedAgentId}\n            onSelect={setSelectedAgentId}\n          />\n          {messages.length > 0 && (\n            <Button variant=\"ghost\" onClick={clearMessages} className=\"text-xs\">\n              clear\n            </Button>\n          )}\n        </div>\n\n        {/* Messages */}\n        <div className=\"flex-1 overflow-hidden\">\n          <ChatPanel messages={messages} />\n        </div>\n\n        {/* Input */}\n        <div className=\"border-t border-ctp-surface0\">\n          <ChatInput\n            onSend={handleSend}\n            disabled={status !== \"connected\" || streaming}\n          />\n        </div>\n      </div>\n    </Window>\n  );\n}\n","\"use client\";\n\nimport type { DisplayMessage } from \"@/hooks/useChat\";\n\ninterface ChatMessageProps {\n  message: DisplayMessage;\n}\n\nexport function ChatMessage({ message }: ChatMessageProps) {\n  const isUser = message.role === \"user\";\n\n  return (\n    <div className=\"mb-3 font-mono\">\n      {/* Prompt line */}\n      <div className=\"flex items-center gap-2 text-xs mb-0.5\">\n        <span className={isUser ? \"text-ctp-green\" : \"text-ctp-mauve\"}>\n          {isUser ? \"user $\" : `${message.agentName || \"system\"} >`}\n        </span>\n        <span className=\"text-ctp-overlay0 text-2xs\">{message.timestamp}</span>\n        {message.model && (\n          <span className=\"text-ctp-overlay0 text-2xs\">[{message.model}]</span>\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"pl-4 text-sm text-ctp-text whitespace-pre-wrap break-words\">\n        {message.content}\n        {message.streaming && (\n          <span className=\"inline-block w-2 h-4 ml-0.5 bg-ctp-green animate-pulse\" />\n        )}\n      </div>\n\n      {/* Usage info */}\n      {message.usage && (\n        <div className=\"pl-4 mt-1 text-2xs text-ctp-overlay0\">\n          {message.usage.totalTokens} tokens\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport type { DisplayMessage } from \"@/hooks/useChat\";\nimport { ChatMessage } from \"./ChatMessage\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface ChatPanelProps {\n  messages: DisplayMessage[];\n}\n\nexport function ChatPanel({ messages }: ChatPanelProps) {\n  const bottomRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  if (!messages.length) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center h-full\">\n        <EmptyState message=\"$ Type a command to begin...\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex-1 overflow-y-auto px-4 py-3 font-mono\">\n      {messages.map((msg) => (\n        <ChatMessage key={msg.id} message={msg} />\n      ))}\n      <div ref={bottomRef} />\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useRef, useCallback, type KeyboardEvent } from \"react\";\n\ninterface ChatInputProps {\n  onSend: (message: string) => void;\n  disabled?: boolean;\n}\n\nexport function ChatInput({ onSend, disabled }: ChatInputProps) {\n  const [value, setValue] = useState(\"\");\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const handleSend = useCallback(() => {\n    const trimmed = value.trim();\n    if (!trimmed || disabled) return;\n    onSend(trimmed);\n    setValue(\"\");\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n    }\n  }, [value, disabled, onSend]);\n\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent<HTMLTextAreaElement>) => {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        handleSend();\n      }\n    },\n    [handleSend]\n  );\n\n  const handleInput = useCallback(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, []);\n\n  return (\n    <div className=\"flex items-end gap-2 px-4 py-2 font-mono\">\n      <span className=\"text-ctp-green text-sm py-1.5 select-none\">$</span>\n      <textarea\n        ref={textareaRef}\n        value={value}\n        onChange={(e) => {\n          setValue(e.target.value);\n          handleInput();\n        }}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Enter command...\"\n        rows={1}\n        disabled={disabled}\n        className=\"flex-1 bg-transparent text-sm text-ctp-text placeholder:text-ctp-overlay0 resize-none focus:outline-none disabled:opacity-40 min-h-[36px] max-h-[200px] font-mono\"\n      />\n      <button\n        onClick={handleSend}\n        disabled={disabled || !value.trim()}\n        className=\"px-3 py-1.5 rounded-input bg-ctp-blue text-ctp-crust text-xs font-mono font-medium hover:bg-ctp-lavender disabled:opacity-40 disabled:cursor-not-allowed transition-colors shrink-0\"\n      >\n        send\n      </button>\n    </div>\n  );\n}\n","\"use client\";\n\nimport type { AgentInfo } from \"@/lib/types\";\n\ninterface AgentSelectorProps {\n  agents: AgentInfo[];\n  selectedId: string | null;\n  onSelect: (id: string | null) => void;\n}\n\nexport function AgentSelector({\n  agents,\n  selectedId,\n  onSelect,\n}: AgentSelectorProps) {\n  return (\n    <div className=\"flex items-center gap-2 font-mono\">\n      <label className=\"text-xs text-ctp-overlay0\">target:</label>\n      <select\n        value={selectedId || \"\"}\n        onChange={(e) => onSelect(e.target.value || null)}\n        className=\"bg-ctp-surface0 border border-ctp-surface1 rounded-input px-2 py-1 text-xs text-ctp-text focus:outline-none focus:border-ctp-blue/50 transition-colors\"\n      >\n        <option value=\"\" className=\"bg-ctp-mantle\">\n          Direct LLM\n        </option>\n        {agents.map((agent) => (\n          <option\n            key={agent.id}\n            value={agent.id}\n            className=\"bg-ctp-mantle\"\n          >\n            {agent.name || agent.id} ({agent.externalId || agent.id})\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { ChatMessage, TokenUsage } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\nexport interface DisplayMessage {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  model?: string;\n  usage?: TokenUsage;\n  streaming?: boolean;\n  timestamp: string;\n  agentName?: string;\n}\n\nexport function useChat() {\n  const { sendStreamingChat, sendAgentTask, operatorAgentId } = useWebSocket();\n  const [messages, setMessages] = useState<DisplayMessage[]>([]);\n  const [streaming, setStreaming] = useState(false);\n\n  const sendMessage = useCallback(\n    async (\n      content: string,\n      options?: { agentId?: string; agentName?: string; model?: string }\n    ) => {\n      const userMsg: DisplayMessage = {\n        id: `user-${Date.now()}`,\n        role: \"user\",\n        content,\n        timestamp: new Date().toLocaleTimeString(),\n      };\n      setMessages((prev) => [...prev, userMsg]);\n\n      const assistantId = `assistant-${Date.now()}`;\n      const assistantMsg: DisplayMessage = {\n        id: assistantId,\n        role: \"assistant\",\n        content: \"\",\n        streaming: true,\n        timestamp: new Date().toLocaleTimeString(),\n        agentName: options?.agentName,\n      };\n      setMessages((prev) => [...prev, assistantMsg]);\n      setStreaming(true);\n\n      try {\n        const targetAgent = options?.agentId || operatorAgentId;\n\n        if (targetAgent) {\n          // Send through an agent\n          const result = (await sendAgentTask(targetAgent, {\n            type: \"chat\",\n            messages: [{ role: \"user\", content }],\n          })) as { content?: string; model?: string };\n\n          setMessages((prev) =>\n            prev.map((m) =>\n              m.id === assistantId\n                ? {\n                    ...m,\n                    content: result?.content || \"No response\",\n                    model: result?.model,\n                    streaming: false,\n                  }\n                : m\n            )\n          );\n        } else {\n          // Direct LLM chat with streaming\n          const chatMessages: ChatMessage[] = [\n            ...messages\n              .filter((m) => !m.streaming)\n              .map((m) => ({\n                role: m.role as \"user\" | \"assistant\",\n                content: m.content,\n              })),\n            { role: \"user\" as const, content },\n          ];\n\n          const result = await sendStreamingChat(\n            chatMessages,\n            (delta) => {\n              setMessages((prev) =>\n                prev.map((m) =>\n                  m.id === assistantId\n                    ? { ...m, content: m.content + delta }\n                    : m\n                )\n              );\n            },\n            { model: options?.model }\n          );\n\n          setMessages((prev) =>\n            prev.map((m) =>\n              m.id === assistantId\n                ? {\n                    ...m,\n                    content: result.content,\n                    model: result.model,\n                    usage: result.usage,\n                    streaming: false,\n                  }\n                : m\n            )\n          );\n        }\n      } catch (err) {\n        setMessages((prev) =>\n          prev.map((m) =>\n            m.id === assistantId\n              ? {\n                  ...m,\n                  content: `Error: ${err instanceof Error ? err.message : \"Unknown error\"}`,\n                  streaming: false,\n                }\n              : m\n          )\n        );\n      } finally {\n        setStreaming(false);\n      }\n    },\n    [messages, sendStreamingChat, sendAgentTask, operatorAgentId]\n  );\n\n  const clearMessages = useCallback(() => {\n    setMessages([]);\n  }, []);\n\n  return { messages, streaming, sendMessage, clearMessages };\n}\n"],"names":[],"mappings":"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"}