module.exports=[43203,10173,a=>{"use strict";var b=a.i(69580);function c({children:a,className:c=""}){return(0,b.jsx)("div",{className:`os-panel p-4 ${c}`,children:a})}a.s(["Panel",()=>c],43203);let d={default:"bg-ctp-surface1 text-ctp-subtext1",success:"bg-ctp-green/15 text-ctp-green",warning:"bg-ctp-yellow/15 text-ctp-yellow",danger:"bg-ctp-red/15 text-ctp-red",info:"bg-ctp-blue/15 text-ctp-blue"};function e({children:a,variant:c="default",className:e=""}){return(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 text-xs font-mono font-medium rounded-pill ${d[c]} ${e}`,children:a})}a.s(["Tag",()=>e],10173)},16098,a=>{"use strict";var b=a.i(69580),c=a.i(89930),d=a.i(78301);function e({title:a,icon:e,children:f,className:g,noPadding:h}){let i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:`flex flex-col bg-ctp-mantle border border-ctp-surface0 rounded-window shadow-lg shadow-black/20 overflow-hidden ${g??""}`,children:[(0,b.jsxs)("div",{className:"window-titlebar shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mr-2",children:[(0,b.jsx)("button",{onClick:()=>i.push("/"),className:"w-3 h-3 rounded-full bg-ctp-red hover:brightness-110 transition-all",title:"Close — go to desktop"}),(0,b.jsx)("button",{onClick:()=>k(!j),className:"w-3 h-3 rounded-full bg-ctp-yellow hover:brightness-110 transition-all",title:j?"Restore":"Minimize"}),(0,b.jsx)("button",{onClick:()=>k(!1),className:"w-3 h-3 rounded-full bg-ctp-green hover:brightness-110 transition-all",title:"Maximize"})]}),e&&(0,b.jsx)("span",{className:"text-ctp-subtext0",children:e}),(0,b.jsx)("span",{className:"text-xs font-mono font-medium text-ctp-subtext1 truncate",children:a})]}),!j&&(0,b.jsx)("div",{className:`flex-1 overflow-auto ${h?"":"p-4"}`,children:f}),j&&(0,b.jsx)("div",{className:"px-4 py-6 text-center",children:(0,b.jsx)("button",{onClick:()=>k(!1),className:"text-xs font-mono text-ctp-overlay0 hover:text-ctp-text transition-colors",children:"Click to restore window"})})]})}a.s(["Window",()=>e])},1732,a=>{"use strict";var b=a.i(69580);function c({message:a,hint:c,className:d=""}){return(0,b.jsxs)("div",{className:`py-8 text-center font-mono ${d}`,children:[(0,b.jsx)("div",{className:"text-sm text-ctp-overlay0",children:a}),c&&(0,b.jsx)("div",{className:"text-xs text-ctp-overlay0/70 mt-1",children:c})]})}a.s(["EmptyState",()=>c])},73910,a=>{"use strict";var b=a.i(69580),c=a.i(73921),d=a.i(16098),e=a.i(43203),f=a.i(10173);function g({health:a,agentCount:d,loading:g}){let h=a?.status==="healthy"?"success":a?.status==="offline"?"danger":"warning";return(0,b.jsx)(c.default,{href:"/settings",className:"block group",children:(0,b.jsxs)(e.Panel,{className:"transition-colors group-hover:border-ctp-blue/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider",children:"Gateway Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[g&&(0,b.jsx)("div",{className:"w-3 h-3 rounded-full border-2 border-ctp-blue/30 border-t-ctp-blue animate-spin"}),(0,b.jsx)("span",{className:"text-2xs font-mono text-ctp-overlay0 group-hover:text-ctp-blue transition-colors",children:"Settings →"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-ctp-overlay0 font-mono mb-1",children:"status"}),(0,b.jsx)(f.Tag,{variant:h,children:a?.status||"unknown"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-ctp-overlay0 font-mono mb-1",children:"providers"}),(0,b.jsx)("div",{className:"text-lg font-mono font-bold text-ctp-text tabular-nums",children:a?.providers?.length??"—"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-ctp-overlay0 font-mono mb-1",children:"agents"}),(0,b.jsx)("div",{className:"text-lg font-mono font-bold text-ctp-text tabular-nums",children:d})]})]})]})})}function h({label:a,value:c,rawValue:d,color:e}){let f=d<=0?0:Math.min(100,Math.max(2,Math.log10(d+1)/6*100));return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-xs text-ctp-overlay0 font-mono",children:a}),(0,b.jsx)("span",{className:"text-xs font-mono font-medium text-ctp-subtext1 tabular-nums",children:c})]}),(0,b.jsx)("div",{className:"h-1.5 rounded-full bg-ctp-surface0 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${f}%`,background:e}})})]})}var i=a.i(89930),j=a.i(1732);function k({events:a}){let[c,d]=(0,i.useState)(null);return a.length?(0,b.jsx)("div",{className:"space-y-1 max-h-80 overflow-y-auto pr-1 font-mono",children:a.map((a,e)=>{var f;let g=c===e,h=(a.summary?.length??0)>80;return(0,b.jsxs)("button",{onClick:()=>d(g?null:e),className:`w-full text-left border-l-2 ${"error"===(f=a.type)?"border-ctp-red":"auth"===f?"border-ctp-yellow":"connection"===f?"border-ctp-green":"border-ctp-blue/30"} pl-3 py-1 hover:bg-ctp-surface0/30 rounded-r-input transition-colors`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-ctp-subtext1",children:a.type}),(0,b.jsx)("span",{className:"text-2xs text-ctp-overlay0",children:a.timestamp}),a.channel&&(0,b.jsx)("span",{className:"text-2xs text-ctp-overlay0 ml-auto",children:a.channel})]}),a.summary&&(0,b.jsx)("div",{className:`text-xs text-ctp-overlay1 mt-0.5 break-all ${g?"":"line-clamp-2"}`,children:a.summary}),h&&(0,b.jsx)("span",{className:"text-2xs text-ctp-overlay0 hover:text-ctp-blue",children:g?"collapse":"expand"})]},`${a.timestamp}-${e}`)})}):(0,b.jsx)(j.EmptyState,{message:"Waiting for events..."})}var l=a.i(49750);function m(a,b){let c=a.match(RegExp(`${b} ([0-9.]+)`));return c?Number(c[1]):0}var n=a.i(36146),o=a.i(95074);function p(){let{health:a,metrics:j,loading:p,refresh:q}=function(){let[a,b]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[e,f]=(0,i.useState)(!0),g=(0,i.useCallback)(async()=>{try{let a=await fetch((0,l.getHealthUrl)());if(!a.ok)return void b({status:"offline"});let c=await a.json();b(c)}catch{b({status:"offline"})}},[]),h=(0,i.useCallback)(async()=>{try{let a=await fetch((0,l.getMetricsUrl)());if(!a.ok)return void d(null);let b=await a.text();d({inputTokens:m(b,"agent_os_tokens_input_total"),outputTokens:m(b,"agent_os_tokens_output_total"),costUsd:m(b,"agent_os_cost_usd_total")})}catch{d(null)}},[]),j=(0,i.useCallback)(async()=>{f(!0),await Promise.all([g(),h()]),f(!1)},[g,h]);return(0,i.useEffect)(()=>{j();let a=setInterval(j,15e3);return()=>clearInterval(a)},[j]),{health:a,metrics:c,loading:e,refresh:j}}(),{events:r}=function(){let{events:a}=(0,n.useWebSocket)();return{events:a}}(),{agents:s}=(0,o.useAgents)(),t=s.reduce((a,b)=>(a[b.state]=(a[b.state]||0)+1,a),{});return(0,b.jsxs)(d.Window,{title:"System Monitor",icon:(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,b.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),(0,b.jsx)("path",{d:"M8 21h8M12 17v4"})]}),className:"h-full",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[(0,b.jsx)(g,{health:a,agentCount:s.length,loading:p}),(0,b.jsxs)(e.Panel,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider",children:"Runtime Metrics"}),(0,b.jsx)("button",{onClick:q,className:"text-xs text-ctp-overlay0 hover:text-ctp-blue transition-colors font-mono underline decoration-ctp-surface1 hover:decoration-ctp-blue",children:"refresh"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h,{label:"Input Tokens",value:j?.inputTokens.toLocaleString()??"—",rawValue:j?.inputTokens??0,color:"#89b4fa"}),(0,b.jsx)(h,{label:"Output Tokens",value:j?.outputTokens.toLocaleString()??"—",rawValue:j?.outputTokens??0,color:"#cba6f7"}),(0,b.jsx)(h,{label:"Cost",value:j?`$${j.costUsd.toFixed(4)}`:"—",rawValue:j?.costUsd??0,color:"#a6e3a1"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(c.default,{href:"/agents",className:"block group",children:(0,b.jsxs)(e.Panel,{className:"h-full transition-colors group-hover:border-ctp-blue/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider",children:"Processes"}),(0,b.jsx)("span",{className:"text-2xs font-mono text-ctp-overlay0 group-hover:text-ctp-blue transition-colors",children:"Open Task Manager →"})]}),0===s.length?(0,b.jsxs)("div",{className:"text-sm text-ctp-overlay0 font-mono",children:["No agents running."," ",(0,b.jsx)("span",{className:"text-ctp-blue/70 group-hover:text-ctp-blue",children:"Click to start one."})]}):(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(t).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.Tag,{variant:"running"===a?"success":"error"===a?"danger":"ready"===a?"info":"default",children:a}),(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-ctp-text tabular-nums",children:c})]},a))})]})}),(0,b.jsxs)(e.Panel,{className:"lg:col-span-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h2",{className:"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider",children:"Event Log"}),r.length>0&&(0,b.jsxs)("span",{className:"text-2xs font-mono text-ctp-overlay0 tabular-nums",children:[r.length," events"]})]}),(0,b.jsx)(k,{events:r})]})]})]})}a.s(["default",()=>p],73910)}];

//# sourceMappingURL=apps_dashboard_src_2109fe24._.js.map