{"version":3,"sources":["../../../../../../apps/dashboard/src/app/security/page.tsx","../../../../../../apps/dashboard/src/components/security/GovernancePanel.tsx","../../../../../../apps/dashboard/src/components/security/AuditLog.tsx","../../../../../../apps/dashboard/src/components/security/CapabilityManager.tsx","../../../../../../apps/dashboard/src/components/security/IncidentPanel.tsx","../../../../../../apps/dashboard/src/hooks/useGovernance.ts","../../../../../../apps/dashboard/src/hooks/useAudit.ts","../../../../../../apps/dashboard/src/hooks/useCapabilities.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Window } from \"@/components/shell/Window\";\nimport { Panel } from \"@/components/shared/Panel\";\nimport { GovernancePanel } from \"@/components/security/GovernancePanel\";\nimport { AuditLog } from \"@/components/security/AuditLog\";\nimport { CapabilityManager } from \"@/components/security/CapabilityManager\";\nimport { IncidentPanel } from \"@/components/security/IncidentPanel\";\nimport { useGovernance } from \"@/hooks/useGovernance\";\nimport { useAudit } from \"@/hooks/useAudit\";\nimport { useCapabilities } from \"@/hooks/useCapabilities\";\nimport { useWebSocket } from \"@/hooks/useWebSocket\";\n\ntype SecurityTab = \"governance\" | \"audit\" | \"capabilities\" | \"incident\";\n\nexport default function SecurityPage() {\n  const [activeTab, setActiveTab] = useState<SecurityTab>(\"audit\");\n  const { status, operatorAgentId } = useWebSocket();\n\n  const governance = useGovernance();\n  const audit = useAudit();\n  const capabilities = useCapabilities();\n\n  useEffect(() => {\n    if (status === \"connected\" && operatorAgentId) {\n      governance.refresh();\n    }\n  }, [status, operatorAgentId]);\n\n  const tabs: { id: SecurityTab; label: string; preview?: boolean }[] = [\n    { id: \"audit\", label: \"Audit Log\" },\n    { id: \"governance\", label: \"Governance\", preview: true },\n    { id: \"capabilities\", label: \"Capabilities\", preview: true },\n    { id: \"incident\", label: \"Incident\", preview: true },\n  ];\n\n  return (\n    <Window\n      title=\"Security Center\"\n      icon={\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n          <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\" />\n        </svg>\n      }\n      className=\"h-full\"\n    >\n      {!operatorAgentId && (\n        <div className=\"mb-4 px-3 py-2 bg-ctp-yellow/10 border border-ctp-yellow/20 rounded-panel text-xs text-ctp-yellow font-mono\">\n          Set an operator agent in Preferences to use security features.\n        </div>\n      )}\n\n      {/* Tab Bar */}\n      <div className=\"flex gap-1 mb-4 p-1 bg-ctp-crust rounded-panel w-fit\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id)}\n            className={`px-3 py-1.5 text-xs font-mono rounded-input transition-colors ${\n              activeTab === tab.id\n                ? \"bg-ctp-blue/15 text-ctp-blue font-medium\"\n                : \"text-ctp-overlay0 hover:text-ctp-subtext1\"\n            }`}\n          >\n            {tab.label}\n            {tab.preview && (\n              <span className=\"ml-1.5 text-2xs px-1 py-0.5 rounded bg-ctp-surface1 text-ctp-overlay0\">\n                Preview\n              </span>\n            )}\n          </button>\n        ))}\n      </div>\n\n      <Panel>\n        {activeTab === \"governance\" && (\n          <GovernancePanel\n            policies={governance.policies}\n            cases={governance.cases}\n            sanctions={governance.sanctions}\n            appeals={governance.appeals}\n            onOpenCase={governance.openCase}\n            onResolveCase={governance.resolveCase}\n            onApplySanction={governance.applySanction}\n            onLiftSanction={governance.liftSanction}\n            onOpenAppeal={governance.openAppeal}\n            onResolveAppeal={governance.resolveAppeal}\n          />\n        )}\n\n        {activeTab === \"audit\" && (\n          <AuditLog\n            entries={audit.entries}\n            loading={audit.loading}\n            onQuery={audit.query}\n          />\n        )}\n\n        {activeTab === \"capabilities\" && (\n          <CapabilityManager\n            tokens={capabilities.tokens}\n            loading={capabilities.loading}\n            onList={capabilities.listTokens}\n            onGrant={capabilities.grant}\n            onRevoke={capabilities.revoke}\n            onRevokeAll={capabilities.revokeAll}\n          />\n        )}\n\n        {activeTab === \"incident\" && <IncidentPanel />}\n\n        {governance.error && (\n          <div className=\"mt-3 text-xs text-ctp-red font-mono\">\n            {governance.error}\n          </div>\n        )}\n      </Panel>\n    </Window>\n  );\n}\n","\"use client\";\n\nimport { useState, type FormEvent } from \"react\";\nimport type { PolicyInfo, ModerationCase, Sanction, Appeal } from \"@/lib/types\";\nimport { Tag } from \"@/components/shared/Tag\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface GovernancePanelProps {\n  policies: PolicyInfo[];\n  cases: ModerationCase[];\n  sanctions: Sanction[];\n  appeals: Appeal[];\n  onOpenCase: (subjectAgentId: string, policyId?: string, reason?: string) => Promise<void>;\n  onResolveCase: (caseId: string, status?: string, resolution?: string) => Promise<void>;\n  onApplySanction: (subjectAgentId: string, sanctionType: string) => Promise<void>;\n  onLiftSanction: (sanctionId: string) => Promise<void>;\n  onOpenAppeal: (caseId: string, reason?: string) => Promise<void>;\n  onResolveAppeal: (appealId: string, status?: string, resolution?: string) => Promise<void>;\n}\n\nfunction formatEvidence(value: unknown): string {\n  if (!value || typeof value !== \"object\") return \"No evidence\";\n  const keys = Object.keys(value);\n  if (!keys.length) return \"No evidence\";\n  return `Evidence: ${keys.slice(0, 3).join(\", \")}${keys.length > 3 ? \"...\" : \"\"}`;\n}\n\nexport function GovernancePanel({\n  policies,\n  cases,\n  sanctions,\n  appeals,\n  onOpenCase,\n  onResolveCase,\n  onApplySanction,\n  onLiftSanction,\n  onOpenAppeal,\n  onResolveAppeal,\n}: GovernancePanelProps) {\n  const [caseSubject, setCaseSubject] = useState(\"\");\n  const [casePolicy, setCasePolicy] = useState(\"\");\n  const [caseReason, setCaseReason] = useState(\"\");\n  const [sanctionSubject, setSanctionSubject] = useState(\"\");\n  const [sanctionType, setSanctionType] = useState(\"warning\");\n  const [resolveCaseId, setResolveCaseId] = useState(\"\");\n  const [resolveCaseStatus, setResolveCaseStatus] = useState(\"\");\n  const [resolveCaseNotes, setResolveCaseNotes] = useState(\"\");\n  const [liftSanctionId, setLiftSanctionId] = useState(\"\");\n  const [appealCaseId, setAppealCaseId] = useState(\"\");\n  const [appealReason, setAppealReason] = useState(\"\");\n  const [resolveAppealId, setResolveAppealId] = useState(\"\");\n  const [resolveAppealStatus, setResolveAppealStatus] = useState(\"\");\n  const [resolveAppealNotes, setResolveAppealNotes] = useState(\"\");\n\n  const handleOpenCase = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!caseSubject.trim()) return;\n    await onOpenCase(caseSubject.trim(), casePolicy.trim() || undefined, caseReason.trim() || undefined);\n    setCaseSubject(\"\");\n    setCasePolicy(\"\");\n    setCaseReason(\"\");\n  };\n\n  const handleApplySanction = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!sanctionSubject.trim()) return;\n    await onApplySanction(sanctionSubject.trim(), sanctionType);\n    setSanctionSubject(\"\");\n  };\n\n  const handleResolveCase = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!resolveCaseId.trim()) return;\n    await onResolveCase(resolveCaseId.trim(), resolveCaseStatus.trim() || undefined, resolveCaseNotes.trim() || undefined);\n    setResolveCaseId(\"\");\n    setResolveCaseStatus(\"\");\n    setResolveCaseNotes(\"\");\n  };\n\n  const handleLiftSanction = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!liftSanctionId.trim()) return;\n    await onLiftSanction(liftSanctionId.trim());\n    setLiftSanctionId(\"\");\n  };\n\n  const handleOpenAppeal = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!appealCaseId.trim()) return;\n    await onOpenAppeal(appealCaseId.trim(), appealReason.trim() || undefined);\n    setAppealCaseId(\"\");\n    setAppealReason(\"\");\n  };\n\n  const handleResolveAppeal = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!resolveAppealId.trim()) return;\n    await onResolveAppeal(resolveAppealId.trim(), resolveAppealStatus.trim() || undefined, resolveAppealNotes.trim() || undefined);\n    setResolveAppealId(\"\");\n    setResolveAppealStatus(\"\");\n    setResolveAppealNotes(\"\");\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Policies */}\n      <div>\n        <h3 className=\"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3\">Policies</h3>\n        {policies.length === 0 ? (\n          <EmptyState message=\"No policies\" />\n        ) : (\n          <div className=\"space-y-2\">\n            {policies.map((p) => (\n              <div key={p.id} className=\"os-panel px-3 py-2 flex items-center justify-between\">\n                <div>\n                  <span className=\"text-sm font-medium text-ctp-text\">{p.name}</span>\n                  <Tag variant={p.status === \"active\" ? \"success\" : \"default\"} className=\"ml-2\">{p.status || \"active\"}</Tag>\n                </div>\n                <span className=\"text-2xs text-ctp-overlay0\">{p.id}</span>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Cases */}\n      <div>\n        <h3 className=\"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3\">Moderation Cases</h3>\n        {cases.length === 0 ? (\n          <EmptyState message=\"No cases\" />\n        ) : (\n          <div className=\"space-y-2\">\n            {cases.map((c) => (\n              <div key={c.id} className=\"os-panel px-3 py-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-medium text-ctp-text\">{c.id}</span>\n                  <Tag variant={c.status === \"open\" ? \"warning\" : \"default\"}>{c.status}</Tag>\n                </div>\n                <div className=\"text-2xs text-ctp-overlay0 mt-1\">\n                  {c.reason || \"No reason\"} | {formatEvidence(c.evidence)}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n        <form onSubmit={handleOpenCase} className=\"mt-3 flex gap-2 items-end\">\n          <Input label=\"Subject Agent\" value={caseSubject} onChange={(e) => setCaseSubject(e.target.value)} placeholder=\"agent-id\" />\n          <Input label=\"Policy ID\" value={casePolicy} onChange={(e) => setCasePolicy(e.target.value)} placeholder=\"optional\" />\n          <Input label=\"Reason\" value={caseReason} onChange={(e) => setCaseReason(e.target.value)} placeholder=\"optional\" />\n          <Button type=\"submit\" disabled={!caseSubject.trim()}>Open Case</Button>\n        </form>\n        <form onSubmit={handleResolveCase} className=\"mt-2 flex gap-2 items-end\">\n          <Input label=\"Case ID\" value={resolveCaseId} onChange={(e) => setResolveCaseId(e.target.value)} placeholder=\"case-id\" />\n          <Input label=\"Status\" value={resolveCaseStatus} onChange={(e) => setResolveCaseStatus(e.target.value)} placeholder=\"resolved\" />\n          <Input label=\"Notes\" value={resolveCaseNotes} onChange={(e) => setResolveCaseNotes(e.target.value)} placeholder=\"optional\" />\n          <Button type=\"submit\" variant=\"ghost\" disabled={!resolveCaseId.trim()}>Resolve</Button>\n        </form>\n      </div>\n\n      {/* Sanctions */}\n      <div>\n        <h3 className=\"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3\">Sanctions</h3>\n        {sanctions.length === 0 ? (\n          <EmptyState message=\"No sanctions\" />\n        ) : (\n          <div className=\"space-y-2\">\n            {sanctions.map((s) => (\n              <div key={s.id} className=\"os-panel px-3 py-2 flex items-center justify-between\">\n                <div>\n                  <span className=\"text-sm text-ctp-text\">{s.type}</span>\n                  <span className=\"text-2xs text-ctp-overlay0 ml-2\">{s.subject_agent_id || \"—\"}</span>\n                </div>\n                <span className=\"text-2xs text-ctp-overlay0\">{s.id}</span>\n              </div>\n            ))}\n          </div>\n        )}\n        <form onSubmit={handleApplySanction} className=\"mt-3 flex gap-2 items-end\">\n          <Input label=\"Subject Agent\" value={sanctionSubject} onChange={(e) => setSanctionSubject(e.target.value)} placeholder=\"agent-id\" />\n          <div className=\"flex flex-col gap-1.5\">\n            <label className=\"text-xs text-ctp-subtext0 font-medium\">Type</label>\n            <select value={sanctionType} onChange={(e) => setSanctionType(e.target.value)} className=\"bg-ctp-surface0 border border-ctp-surface1 rounded-input px-3 py-2 text-sm text-ctp-text\">\n              <option value=\"warning\" className=\"bg-ctp-mantle\">Warning</option>\n              <option value=\"quarantine\" className=\"bg-ctp-mantle\">Quarantine</option>\n              <option value=\"suspension\" className=\"bg-ctp-mantle\">Suspension</option>\n              <option value=\"ban\" className=\"bg-ctp-mantle\">Ban</option>\n            </select>\n          </div>\n          <Button type=\"submit\" disabled={!sanctionSubject.trim()}>Apply</Button>\n        </form>\n        <form onSubmit={handleLiftSanction} className=\"mt-2 flex gap-2 items-end\">\n          <Input label=\"Sanction ID\" value={liftSanctionId} onChange={(e) => setLiftSanctionId(e.target.value)} placeholder=\"sanction-id\" />\n          <Button type=\"submit\" variant=\"ghost\" disabled={!liftSanctionId.trim()}>Lift</Button>\n        </form>\n      </div>\n\n      {/* Appeals */}\n      <div>\n        <h3 className=\"text-xs font-mono font-semibold text-ctp-subtext0 uppercase tracking-wider mb-3\">Appeals</h3>\n        {appeals.length === 0 ? (\n          <EmptyState message=\"No appeals\" />\n        ) : (\n          <div className=\"space-y-2\">\n            {appeals.map((a) => (\n              <div key={a.id} className=\"os-panel px-3 py-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm text-ctp-text\">{a.id}</span>\n                  <Tag variant={a.status === \"open\" ? \"warning\" : \"default\"}>{a.status}</Tag>\n                </div>\n                <div className=\"text-2xs text-ctp-overlay0 mt-1\">\n                  {a.resolution || \"No resolution\"} | {formatEvidence(a.evidence)}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n        <form onSubmit={handleOpenAppeal} className=\"mt-3 flex gap-2 items-end\">\n          <Input label=\"Case ID\" value={appealCaseId} onChange={(e) => setAppealCaseId(e.target.value)} placeholder=\"case-id\" />\n          <Input label=\"Reason\" value={appealReason} onChange={(e) => setAppealReason(e.target.value)} placeholder=\"optional\" />\n          <Button type=\"submit\" disabled={!appealCaseId.trim()}>Open Appeal</Button>\n        </form>\n        <form onSubmit={handleResolveAppeal} className=\"mt-2 flex gap-2 items-end\">\n          <Input label=\"Appeal ID\" value={resolveAppealId} onChange={(e) => setResolveAppealId(e.target.value)} placeholder=\"appeal-id\" />\n          <Input label=\"Status\" value={resolveAppealStatus} onChange={(e) => setResolveAppealStatus(e.target.value)} placeholder=\"resolved\" />\n          <Input label=\"Notes\" value={resolveAppealNotes} onChange={(e) => setResolveAppealNotes(e.target.value)} placeholder=\"optional\" />\n          <Button type=\"submit\" variant=\"ghost\" disabled={!resolveAppealId.trim()}>Resolve</Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, type FormEvent } from \"react\";\nimport type { AuditEntry } from \"@/lib/types\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface AuditLogProps {\n  entries: AuditEntry[];\n  loading?: boolean;\n  onQuery: (filters?: { action?: string; actorId?: string; limit?: number }) => void;\n}\n\nexport function AuditLog({ entries, loading, onQuery }: AuditLogProps) {\n  const [action, setAction] = useState(\"\");\n  const [actorId, setActorId] = useState(\"\");\n  const [limit, setLimit] = useState(\"50\");\n\n  const handleSearch = (e: FormEvent) => {\n    e.preventDefault();\n    onQuery({\n      action: action.trim() || undefined,\n      actorId: actorId.trim() || undefined,\n      limit: Number(limit) || 50,\n    });\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSearch} className=\"flex gap-2 items-end mb-4\">\n        <Input label=\"Action\" value={action} onChange={(e) => setAction(e.target.value)} placeholder=\"filter by action\" />\n        <Input label=\"Actor ID\" value={actorId} onChange={(e) => setActorId(e.target.value)} placeholder=\"filter by actor\" />\n        <div className=\"w-20\">\n          <Input label=\"Limit\" type=\"number\" value={limit} onChange={(e) => setLimit(e.target.value)} />\n        </div>\n        <Button type=\"submit\" disabled={loading}>\n          {loading ? \"Loading...\" : \"Query\"}\n        </Button>\n      </form>\n\n      {entries.length === 0 ? (\n        <EmptyState message=\"No audit entries\" />\n      ) : (\n        <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n          {entries.map((entry, i) => (\n            <div key={entry.id || i} className=\"os-panel px-3 py-2\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-ctp-text\">{entry.action}</span>\n                <span className=\"text-2xs text-ctp-overlay0\">\n                  {new Date(entry.created_at).toLocaleString()}\n                </span>\n              </div>\n              <div className=\"text-2xs text-ctp-overlay0 mt-0.5\">\n                Actor: {entry.actor_id || \"—\"} | Resource: {entry.resource_type || \"—\"} | Outcome: {entry.outcome}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, type FormEvent } from \"react\";\nimport type { CapabilityToken } from \"@/lib/types\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\nimport { EmptyState } from \"@/components/shared/EmptyState\";\n\ninterface CapabilityManagerProps {\n  tokens: CapabilityToken[];\n  loading?: boolean;\n  onList: (agentId?: string) => void;\n  onGrant: (agentId: string, permissions: string[], purpose?: string, durationMs?: number) => Promise<void>;\n  onRevoke: (tokenId: string) => Promise<void>;\n  onRevokeAll: (agentId: string) => Promise<void>;\n}\n\nexport function CapabilityManager({\n  tokens,\n  loading,\n  onList,\n  onGrant,\n  onRevoke,\n  onRevokeAll,\n}: CapabilityManagerProps) {\n  const [agentId, setAgentId] = useState(\"\");\n  const [permissions, setPermissions] = useState(\"\");\n  const [purpose, setPurpose] = useState(\"\");\n  const [duration, setDuration] = useState(\"\");\n  const [revokeTokenId, setRevokeTokenId] = useState(\"\");\n\n  const handleList = () => onList(agentId.trim() || undefined);\n\n  const handleGrant = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!agentId.trim() || !permissions.trim()) return;\n    const perms = permissions.split(/[\\n,]/).map((p) => p.trim()).filter(Boolean);\n    const dur = Number(duration);\n    await onGrant(agentId.trim(), perms, purpose.trim() || undefined, dur > 0 ? dur : undefined);\n    setPermissions(\"\");\n    setPurpose(\"\");\n    setDuration(\"\");\n  };\n\n  const handleRevoke = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!revokeTokenId.trim()) return;\n    await onRevoke(revokeTokenId.trim());\n    setRevokeTokenId(\"\");\n  };\n\n  const handleRevokeAll = async () => {\n    if (!agentId.trim()) return;\n    await onRevokeAll(agentId.trim());\n  };\n\n  const formatPerms = (token: CapabilityToken) => {\n    if (!Array.isArray(token.permissions)) return \"—\";\n    return token.permissions\n      .map((p) => `${p.category}.${p.actions?.join(\"|\") || \"*\"}${p.resource ? `:${p.resource}` : \"\"}`)\n      .join(\", \");\n  };\n\n  return (\n    <div>\n      <div className=\"flex gap-2 items-end mb-4\">\n        <Input label=\"Agent ID\" value={agentId} onChange={(e) => setAgentId(e.target.value)} placeholder=\"agent-id\" />\n        <Button onClick={handleList} disabled={loading}>\n          {loading ? \"Loading...\" : \"List Tokens\"}\n        </Button>\n        <Button variant=\"danger\" onClick={handleRevokeAll} disabled={!agentId.trim()}>\n          Revoke All\n        </Button>\n      </div>\n\n      {tokens.length === 0 ? (\n        <EmptyState message=\"No capability tokens\" />\n      ) : (\n        <div className=\"space-y-2 mb-6 max-h-64 overflow-y-auto\">\n          {tokens.map((token) => (\n            <div key={token.id} className=\"os-panel px-3 py-2\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-ctp-text\">{token.id}</span>\n                <Button variant=\"ghost\" onClick={() => onRevoke(token.id)} className=\"text-xs\">\n                  Revoke\n                </Button>\n              </div>\n              <div className=\"text-2xs text-ctp-overlay0 mt-0.5\">\n                Agent: {token.agentId} | Expires: {token.expiresAt ? new Date(token.expiresAt).toLocaleString() : \"—\"}\n              </div>\n              <div className=\"text-2xs text-ctp-overlay0 mt-0.5\">{formatPerms(token)}</div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"border-t border-ctp-surface0 pt-4 mt-4\">\n        <h4 className=\"text-xs font-mono text-ctp-subtext0 uppercase mb-3\">Grant Token</h4>\n        <form onSubmit={handleGrant} className=\"space-y-2\">\n          <Input label=\"Permissions (comma-separated)\" value={permissions} onChange={(e) => setPermissions(e.target.value)} placeholder=\"memory.read, llm.execute\" />\n          <div className=\"flex gap-2 items-end\">\n            <Input label=\"Purpose\" value={purpose} onChange={(e) => setPurpose(e.target.value)} placeholder=\"optional\" />\n            <div className=\"w-40\">\n              <Input label=\"Duration (ms)\" type=\"number\" value={duration} onChange={(e) => setDuration(e.target.value)} placeholder=\"optional\" />\n            </div>\n            <Button type=\"submit\" disabled={!agentId.trim() || !permissions.trim()}>Grant</Button>\n          </div>\n        </form>\n      </div>\n\n      <div className=\"border-t border-ctp-surface0 pt-4 mt-4\">\n        <h4 className=\"text-xs font-mono text-ctp-subtext0 uppercase mb-3\">Revoke by ID</h4>\n        <form onSubmit={handleRevoke} className=\"flex gap-2 items-end\">\n          <Input label=\"Token ID\" value={revokeTokenId} onChange={(e) => setRevokeTokenId(e.target.value)} placeholder=\"token-id\" />\n          <Button type=\"submit\" variant=\"danger\" disabled={!revokeTokenId.trim()}>Revoke</Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { Input } from \"@/components/shared/Input\";\nimport { Button } from \"@/components/shared/Button\";\nimport { useWebSocket } from \"@/hooks/useWebSocket\";\n\nexport function IncidentPanel() {\n  const { sendAgentTask, operatorAgentId } = useWebSocket();\n  const [policyName, setPolicyName] = useState(\"Global Lockdown\");\n  const [statusMessage, setStatusMessage] = useState<string | null>(null);\n  const [working, setWorking] = useState(false);\n\n  const task = async (taskData: Record<string, unknown>) => {\n    if (!operatorAgentId) throw new Error(\"Set operator agent first\");\n    return sendAgentTask(operatorAgentId, taskData);\n  };\n\n  const getLockdownPolicy = async (name: string) => {\n    const result = (await task({ type: \"policy_list\", limit: 100 })) as {\n      policies?: Array<{ id: string; name: string }>;\n    };\n    return result?.policies?.find((p) => p.name === name);\n  };\n\n  const ensureLockdownPolicy = async (name: string) => {\n    const existing = await getLockdownPolicy(name);\n    if (existing) return existing;\n    const result = (await task({\n      type: \"policy_create\",\n      name,\n      description: \"Global incident lockdown policy\",\n      rules: {\n        rules: [\n          {\n            type: \"deny\",\n            action: \"tool.invoked\",\n            resourceType: \"tool\",\n            reason: \"Incident lockdown active\",\n            sanction: { type: \"quarantine\" },\n          },\n        ],\n      },\n    })) as { policy?: { id: string; name: string } };\n    return result?.policy;\n  };\n\n  const enableLockdown = async () => {\n    setWorking(true);\n    setStatusMessage(null);\n    try {\n      const policy = await ensureLockdownPolicy(policyName.trim() || \"Global Lockdown\");\n      if (policy?.id) {\n        await task({ type: \"policy_set_status\", policyId: policy.id, status: \"active\" });\n        setStatusMessage(`Lockdown enabled (${policy.id})`);\n      }\n    } catch (err) {\n      setStatusMessage(`Error: ${err instanceof Error ? err.message : \"Failed\"}`);\n    } finally {\n      setWorking(false);\n    }\n  };\n\n  const disableLockdown = async () => {\n    setWorking(true);\n    setStatusMessage(null);\n    try {\n      const policy = await getLockdownPolicy(policyName.trim() || \"Global Lockdown\");\n      if (!policy?.id) {\n        setStatusMessage(\"No policy found\");\n        return;\n      }\n      await task({ type: \"policy_set_status\", policyId: policy.id, status: \"inactive\" });\n      setStatusMessage(`Lockdown disabled (${policy.id})`);\n    } catch (err) {\n      setStatusMessage(`Error: ${err instanceof Error ? err.message : \"Failed\"}`);\n    } finally {\n      setWorking(false);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex gap-2 items-end mb-4\">\n        <Input\n          label=\"Policy Name\"\n          value={policyName}\n          onChange={(e) => setPolicyName(e.target.value)}\n          placeholder=\"Global Lockdown\"\n        />\n        <Button onClick={enableLockdown} disabled={working}>\n          {working ? \"Working...\" : \"Enable Lockdown\"}\n        </Button>\n        <Button variant=\"ghost\" onClick={disableLockdown} disabled={working}>\n          Disable Lockdown\n        </Button>\n      </div>\n      {statusMessage && (\n        <div\n          className={`text-xs font-mono ${statusMessage.startsWith(\"Error\") ? \"text-ctp-red\" : \"text-ctp-green\"}`}\n        >\n          {statusMessage}\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type {\n  PolicyInfo,\n  ModerationCase,\n  Sanction,\n  Appeal,\n} from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\ninterface GovernanceData {\n  policies: PolicyInfo[];\n  cases: ModerationCase[];\n  sanctions: Sanction[];\n  appeals: Appeal[];\n}\n\nexport function useGovernance() {\n  const { sendAgentTask, operatorAgentId } = useWebSocket();\n  const [data, setData] = useState<GovernanceData>({\n    policies: [],\n    cases: [],\n    sanctions: [],\n    appeals: [],\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const task = useCallback(\n    async (taskData: Record<string, unknown>) => {\n      if (!operatorAgentId) throw new Error(\"Set operator agent first\");\n      return sendAgentTask(operatorAgentId, taskData);\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  const refresh = useCallback(async () => {\n    if (!operatorAgentId) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const [policies, cases, sanctions, appeals] = await Promise.all([\n        task({ type: \"policy_list\", limit: 50 }),\n        task({ type: \"moderation_case_list\", limit: 50 }),\n        task({ type: \"sanction_list\", limit: 50 }),\n        task({ type: \"appeal_list\", limit: 50 }),\n      ]);\n      setData({\n        policies: (policies as { policies?: PolicyInfo[] })?.policies ?? [],\n        cases: (cases as { cases?: ModerationCase[] })?.cases ?? [],\n        sanctions:\n          (sanctions as { sanctions?: Sanction[] })?.sanctions ?? [],\n        appeals: (appeals as { appeals?: Appeal[] })?.appeals ?? [],\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to fetch\");\n    } finally {\n      setLoading(false);\n    }\n  }, [task, operatorAgentId]);\n\n  const openCase = useCallback(\n    async (subjectAgentId: string, policyId?: string, reason?: string) => {\n      await task({\n        type: \"moderation_case_open\",\n        subjectAgentId,\n        ...(policyId && { policyId }),\n        ...(reason && { reason }),\n      });\n      await refresh();\n    },\n    [task, refresh]\n  );\n\n  const resolveCase = useCallback(\n    async (caseId: string, status?: string, resolution?: string) => {\n      await task({\n        type: \"moderation_case_resolve\",\n        caseId,\n        ...(status && { status }),\n        ...(resolution && { resolution }),\n      });\n      await refresh();\n    },\n    [task, refresh]\n  );\n\n  const applySanction = useCallback(\n    async (subjectAgentId: string, sanctionType: string) => {\n      await task({ type: \"sanction_apply\", subjectAgentId, sanctionType });\n      await refresh();\n    },\n    [task, refresh]\n  );\n\n  const liftSanction = useCallback(\n    async (sanctionId: string) => {\n      await task({ type: \"sanction_lift\", sanctionId });\n      await refresh();\n    },\n    [task, refresh]\n  );\n\n  const openAppeal = useCallback(\n    async (caseId: string, reason?: string) => {\n      await task({\n        type: \"appeal_open\",\n        caseId,\n        ...(reason && { reason }),\n      });\n      await refresh();\n    },\n    [task, refresh]\n  );\n\n  const resolveAppeal = useCallback(\n    async (appealId: string, status?: string, resolution?: string) => {\n      await task({\n        type: \"appeal_resolve\",\n        appealId,\n        ...(status && { status }),\n        ...(resolution && { resolution }),\n      });\n      await refresh();\n    },\n    [task, refresh]\n  );\n\n  return {\n    ...data,\n    loading,\n    error,\n    refresh,\n    openCase,\n    resolveCase,\n    applySanction,\n    liftSanction,\n    openAppeal,\n    resolveAppeal,\n  };\n}\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { AuditEntry } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\nexport function useAudit() {\n  const { sendAgentTask, operatorAgentId } = useWebSocket();\n  const [entries, setEntries] = useState<AuditEntry[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const query = useCallback(\n    async (filters?: { action?: string; actorId?: string; limit?: number }) => {\n      if (!operatorAgentId) {\n        setError(\"Set operator agent first\");\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const result = (await sendAgentTask(operatorAgentId, {\n          type: \"audit_query\",\n          ...(filters?.action && { action: filters.action }),\n          ...(filters?.actorId && { actorId: filters.actorId }),\n          limit: filters?.limit || 50,\n        })) as { entries?: AuditEntry[] };\n        setEntries(result?.entries ?? []);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Audit query failed\");\n      } finally {\n        setLoading(false);\n      }\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  return { entries, loading, error, query };\n}\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { CapabilityToken } from \"@/lib/types\";\nimport { useWebSocket } from \"./useWebSocket\";\n\nexport function useCapabilities() {\n  const { sendAgentTask, operatorAgentId } = useWebSocket();\n  const [tokens, setTokens] = useState<CapabilityToken[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const task = useCallback(\n    async (taskData: Record<string, unknown>) => {\n      if (!operatorAgentId) throw new Error(\"Set operator agent first\");\n      return sendAgentTask(operatorAgentId, taskData);\n    },\n    [sendAgentTask, operatorAgentId]\n  );\n\n  const listTokens = useCallback(\n    async (agentId?: string) => {\n      setLoading(true);\n      setError(null);\n      try {\n        const result = (await task({\n          type: \"capability_list\",\n          agentId: agentId || operatorAgentId,\n        })) as { tokens?: CapabilityToken[] };\n        setTokens(result?.tokens ?? []);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Failed to list tokens\");\n      } finally {\n        setLoading(false);\n      }\n    },\n    [task, operatorAgentId]\n  );\n\n  const grant = useCallback(\n    async (\n      agentId: string,\n      permissions: string[],\n      purpose?: string,\n      durationMs?: number\n    ) => {\n      await task({\n        type: \"capability_grant\",\n        agentId,\n        permissions,\n        ...(purpose && { purpose }),\n        ...(durationMs && { durationMs }),\n      });\n      await listTokens(agentId);\n    },\n    [task, listTokens]\n  );\n\n  const revoke = useCallback(\n    async (tokenId: string) => {\n      await task({ type: \"capability_revoke\", tokenId });\n      await listTokens();\n    },\n    [task, listTokens]\n  );\n\n  const revokeAll = useCallback(\n    async (agentId: string) => {\n      await task({ type: \"capability_revoke_all\", agentId });\n      await listTokens(agentId);\n    },\n    [task, listTokens]\n  );\n\n  return { tokens, loading, error, listTokens, grant, revoke, revokeAll };\n}\n"],"names":[],"mappings":"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"}